"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkshopify_base_2_0"] = self["webpackChunkshopify_base_2_0"] || []).push([["section-bundle"],{

/***/ "./src/modules/bundle/bundle.js":
/*!**************************************!*\
  !*** ./src/modules/bundle/bundle.js ***!
  \**************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _bundle_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./bundle.css */ \"./src/modules/bundle/bundle.css\");\n/* eslint-disable */\n\n\n// $(document).ready(function() {\n//     console.log('ready')\n//       $.ajax({\n//         type: \"POST\",\n//         url: '/cart/clear.js',\n//         success: function(){\n//           console.log('I cleared the cart!');\n//         },\n//         dataType: 'json'\n//     });\n// });\n\nconst tabs = document.querySelectorAll('.section-bundle__collection-tab');\ntabs.forEach(tab => {\n  tab.addEventListener('click', () => {\n    setActive(tab);\n    showPanel(tab);\n  });\n});\nconst setActive = function (el) {\n  [...el.parentElement.children].forEach(function (sib) {\n    sib.classList.remove('active');\n  });\n  el.classList.add('active');\n};\nconst showPanel = tab => {\n  let tabIndex = tab.getAttribute('data-tab');\n  let panels = document.querySelectorAll('.section-bundle__products-holder');\n  panels.forEach(panel => {\n    const panelIndex = panel.getAttribute('data-panel');\n    if (panelIndex === tabIndex) {\n      panel.classList.add('active');\n    } else {\n      panel.classList.remove('active');\n    }\n  });\n};\n\n//SWIPER FOR BUNDLE CART CAROUSEL\n\nvar swiper = new Swiper('.section-bundle__cart-carousel', {\n  spaceBetween: 8,\n  slidesPerView: 4,\n  slidesPerGroup: 4,\n  breakpoints: {\n    768: {\n      slidesPerView: 6,\n      slidesPerGroup: 6,\n      draggable: false\n    }\n  },\n  navigation: {\n    nextEl: '.section-bundle__cart-carousel .swiper-button-next',\n    prevEl: '.section-bundle__cart-carousel .swiper-button-prev'\n  },\n  scrollbar: {\n    el: '.section-bundle__cart-carousel .swiper-scrollbar',\n    draggable: true\n  }\n});\n\n//TOGGLE BUNDLE\nconst bundleCarousel = document.querySelector('.bundle-wrap');\nconst bundleToggler = document.querySelector('.js-bundle-toggle');\nbundleToggler.addEventListener('click', () => {\n  bundleCarousel.classList.toggle('hide-bundle');\n  if (bundleCarousel.classList.contains('hide-bundle')) {\n    bundleToggler.textContent = 'SHOW BUNDLE';\n  } else {\n    bundleToggler.textContent = 'HIDE BUNDLE';\n  }\n});\n\n//ADD TO CART LOGIC\nconst bundleAtcButtons = document.querySelectorAll('.js-bundle-atc');\nif (!!bundleAtcButtons.length) {\n  bundleAtcButtons.forEach(atcButton => {\n    atcButton.addEventListener('click', () => {\n      let addItems = [];\n      // atcButton.dataset.quantity = quantity\n      addItems = [{\n        id: atcButton.getAttribute('data-product'),\n        quantity: 1\n      }];\n      const formData = {\n        items: addItems\n      };\n      fetch(window.Shopify.routes.root + 'cart/add.js', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(formData)\n      }).then(response => {\n        console.log(response.status);\n        if (response.status === 200) {\n          console.log(response.status, 'ok');\n          refreshCart();\n        }\n        return response.json();\n      }).catch(error => {\n        console.error('Error:', error);\n      });\n    });\n  });\n}\nasync function getCart() {\n  const result = await fetch(\"/cart.json\");\n  if (result.status === 200) {\n    return result.json();\n  }\n  throw new Error(`Failed to get request, Shopify returned ${result.status} ${result.statusText}`);\n}\nasync function refreshCart() {\n  const cart = await getCart();\n  // console.log(cart, 'cart')\n  // console.log(cart.items, 'cart.items')\n  // console.log(cart.items.reverse(), 'cart.items.reverse()')\n  const bundleItems = document.querySelectorAll('.section-bundle__cart-carousel-item');\n  const bundleHolder = document.querySelector('.js-holder');\n  bundleHolder.innerHTML = '';\n  for (let i = 0; i < 12; i++) {\n    if (cart.items[i]) {\n      let free = '';\n      if (cart.items[i].properties._attribution && cart.items[i].properties._attribution == \"Rebuy Tiered Progress Bar\") {\n        free = \"Free!\";\n      }\n      bundleHolder.innerHTML += `\n        <div class=\"swiper-slide p-[18px]\">\n            <div class=\"section-bundle__cart-carousel-item flex-col\">\n                <div data-product-id=\"${cart.items[i].product_id}\" data-variant-id=\"${cart.items[i].variant_id}\" class=\"js-remove\">X</div>\n                <div class=\"qty-holder\">${cart.items[i].quantity > 1 ? cart.items[i].quantity : ''}</div>\n                <img class=\"\" src=\"${cart.items[i].image}\">\n                <div class=\"free-item\">${free}</div>\n            </div>\n        </div>\n        `;\n    } else {\n      bundleHolder.innerHTML += `\n            <div class=\"swiper-slide\">\n                <div class=\"section-bundle__cart-carousel-item\">\n                    <div class=\"col-quantity__button increase  p dm-sans-normal color-white text-center\">+</div>\n                </div>\n            </div>\n            `;\n    }\n    if (cart.items[i] && document.querySelector('.class-' + cart.items[i].product_id)) {\n      let selector = document.querySelector('.class-' + cart.items[i].product_id);\n      selector.querySelector('.js-qty-number').innerHTML = cart.items[i].quantity;\n      selector.querySelector('.plus').setAttribute('data-quantity', cart.items[i].quantity + 1);\n      selector.querySelector('.minus').setAttribute('data-quantity', cart.items[i].quantity - 1);\n    }\n  }\n  console.log(bundleHolder, 'bundleHolder');\n  console.log(cart, cart.original_total_price / 100, 'cart orginal total price');\n  let itemCount = 0;\n  let giftCount = 0;\n  for (let d = 0; d < cart.items.length; d++) {\n    if (cart.items[d].properties._source != \"Rebuy\") {\n      itemCount += cart.items[d].quantity;\n      giftCount += cart.items[d].final_price * cart.items[d].quantity;\n    }\n  }\n  let currency = cart.currency;\n  if (currency == 'USD') {\n    currency = '$';\n  }\n  if (currency == 'EUR') {\n    currency = '€';\n  }\n  let firstGift = document.querySelector('.gift-tracker-holder').getAttribute('data-first');\n  let secondGift = document.querySelector('.gift-tracker-holder').getAttribute('data-second');\n  console.log(firstGift, secondGift, giftCount, 'saberise');\n  let circle = document.querySelector('.circle-chart__circle');\n  if (giftCount < firstGift) {\n    let currency = cart.currency;\n    if (currency == 'USD') {\n      currency = '$';\n    }\n    if (currency == 'EUR') {\n      currency = '€';\n    }\n    circle.setAttribute('stroke-dashoffset', 1000 - giftCount / firstGift * 540);\n    document.querySelector('.left-to-gift').innerHTML = '<img  class=\"max-w-[40%] mx-auto\" src=\"https://cdn.shopify.com/s/files/1/0071/1727/5191/files/New_free_gift_titan_kit_symbol_cable_wheel.png?v=1714648077\">' + (firstGift - giftCount) / 100 + currency + '<br> MORE!';\n  }\n  if (giftCount > firstGift) {\n    let currency = cart.currency;\n    if (currency == 'USD') {\n      currency = '$';\n    }\n    if (currency == 'EUR') {\n      currency = '€';\n    }\n    circle.setAttribute('stroke-dashoffset', 1000 - giftCount / secondGift * 540);\n    document.querySelector('.left-to-gift').innerHTML = '<img class=\"max-w-[40%] mx-auto\" src=\"https://cdn.shopify.com/s/files/1/0071/1727/5191/files/4_in_1_cable_Icon_titan_kit_wheel_-_green_glow.png?v=1730623927\">' + (secondGift - giftCount) / 100 + currency + '<br> MORE!';\n  }\n  if (secondGift - giftCount <= 0) {\n    document.querySelector('.left-to-gift').innerHTML = 'ALL GIFTS UNLOCKED!';\n  }\n  var swiper = new Swiper('.section-bundle__cart-carousel', {\n    spaceBetween: 8,\n    slidesPerView: 4,\n    slidesPerGroup: 4,\n    breakpoints: {\n      768: {\n        slidesPerView: 6,\n        slidesPerGroup: 6,\n        draggable: false\n      }\n    },\n    navigation: {\n      nextEl: '.section-bundle__cart-carousel .swiper-button-next',\n      prevEl: '.section-bundle__cart-carousel .swiper-button-prev'\n    },\n    scrollbar: {\n      el: '.section-bundle__cart-carousel .swiper-scrollbar',\n      draggable: true\n    }\n  });\n  let allQty = document.querySelectorAll('.js-qty-number');\n  let points = document.querySelectorAll('.point');\n  let allLines = document.querySelectorAll('.line');\n  let allNumber = 0;\n  for (let y = 0; y < allQty.length; y++) {\n    allNumber += parseFloat(allQty[y].innerHTML);\n  }\n  points.forEach((point, index) => {\n    if (point) {\n      point.style.backgroundColor = '#adadad';\n    }\n  });\n  allLines.forEach((allLine, index) => {\n    if (allLine) {\n      allLine.style.backgroundColor = '#adadad';\n    }\n  });\n  for (let z = 0; z < allNumber; z++) {\n    if (points[z]) {\n      points[z].style.backgroundColor = '#60c655';\n    }\n  }\n  let limiter = allNumber * 2 - 1;\n  for (let k = 0; k < limiter; k++) {\n    if (allLines[k]) {\n      allLines[k].style.backgroundColor = '#60c655';\n    }\n  }\n  setTimeout(() => {\n    document.querySelectorAll('.js-remove').forEach(remove => {\n      remove.addEventListener('click', () => {\n        let itemId = remove.getAttribute('data-variant-id');\n        let productId = remove.getAttribute('data-product-id');\n        fetch(window.Shopify.routes.root + 'cart/change.js', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            id: itemId,\n            quantity: 0\n          })\n        }).then(response => {\n          console.log(response.status);\n          if (response.status === 200) {\n            console.log(response.status, 'okkkk');\n            let selector = document.querySelector('.class-' + productId);\n            selector.querySelector('.js-qty-number').innerHTML = 0;\n            selector.querySelector('.plus').setAttribute('data-quantity', 1);\n            selector.querySelector('.minus').setAttribute('data-quantity', 0);\n            refreshCart();\n          }\n          return response.json();\n        }).catch(error => {\n          console.error('Error:', error);\n        });\n      });\n    });\n  }, 2000);\n  let totalPrice = 0;\n  cart.items.forEach(item => {\n    totalPrice += item.price * item.quantity;\n  });\n  console.log(cart.items);\n  const formattedPrice = currency + (giftCount / 100).toFixed(2);\n  const totalPriceElement = document.querySelector('.section-bundle__sticky-price');\n  totalPriceElement.textContent = formattedPrice;\n  const checkoutButton = document.querySelector('.section-bundle__sticky-checkout a');\n  if (totalPrice === 0) {\n    checkoutButton.setAttribute('disabled', true);\n  } else {\n    checkoutButton.removeAttribute('disabled');\n  }\n  console.log('Refreshed cart');\n}\nlet updateCart = (itemId, q) => {\n  let overlayBundle = document.querySelector('.bundle-overlay');\n  overlayBundle.classList.add('show');\n  let nameKey = itemId;\n  let nameValue = q;\n  let updates = {};\n  updates[nameKey] = nameValue;\n  console.log(updates, 'updateObject');\n  // jQuery.post('/cart/update.js', {updates:{...updateObject}});\n\n  fetch(window.Shopify.routes.root + 'cart/update.js', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      updates\n    })\n  }).then(response => {\n    console.log(response.status, 'status');\n    if (response.status === 200) {\n      overlayBundle.classList.remove('show');\n    }\n    return response.json();\n  }).catch(error => {\n    console.error('Error:', error);\n  });\n};\nconst pluses = document.querySelectorAll('.plus');\nconst minuses = document.querySelectorAll('.minus');\npluses.forEach(pluse => {\n  pluse.addEventListener('click', () => {\n    let itemId = pluse.parentNode.getAttribute('data-item-id');\n    console.log(itemId, 'itemId');\n    let quantity = pluse.getAttribute('data-quantity');\n    let number = pluse.parentNode.querySelector('.js-qty-number');\n    const newValue = parseInt(quantity) + 1;\n    number.innerHTML = quantity;\n    updateCart(itemId, quantity);\n    pluse.setAttribute('data-quantity', newValue);\n    setTimeout(() => {\n      refreshCart();\n    }, 1000);\n  });\n});\nminuses.forEach(minus => {\n  minus.addEventListener('click', () => {\n    let itemId = minus.parentNode.getAttribute('data-item-id');\n    let quantity = minus.getAttribute('data-quantity');\n    let number = minus.parentNode.querySelector('.js-qty-number');\n    const newValue = parseInt(quantity) - 1;\n    number.innerHTML = quantity;\n    updateCart(itemId, quantity);\n    minus.setAttribute('data-quantity', newValue);\n    setTimeout(() => {\n      refreshCart();\n    }, 1000);\n  });\n});\nlet infoTrigers = document.querySelectorAll('.info-icon-trigger');\nlet closeBtn = document.querySelector('.close');\ninfoTrigers.forEach(infoTriger => {\n  infoTriger.addEventListener('click', e => {\n    console.log(e.target, 'this');\n    let infoImage = e.target.getAttribute('data-image');\n    document.querySelector('.info-image').src = infoImage;\n    document.querySelector('.product-overlay').classList.add('show');\n    document.querySelector('body').classList.add('no-scroll');\n    document.querySelector('html').classList.add('no-scroll');\n  });\n});\ncloseBtn.addEventListener('click', e => {\n  document.querySelector('.product-overlay').classList.remove('show');\n  document.querySelector('body').classList.remove('no-scroll');\n  document.querySelector('html').classList.remove('no-scroll');\n});\nlet infoPlayTrigers = document.querySelectorAll('.info-play-trigger');\nlet closePlayBtn = document.querySelector('.close-play');\ninfoPlayTrigers.forEach(infoTriger => {\n  infoTriger.addEventListener('click', e => {\n    console.log(e.currentTarget, 'this');\n    let infoVideo = e.target.getAttribute('data-video');\n    document.querySelector('.info-video').src = infoVideo;\n    document.querySelector('.product-play-overlay').classList.add('show');\n    document.querySelector('body').classList.add('no-scroll');\n    document.querySelector('html').classList.add('no-scroll');\n    setTimeout(() => {\n      document.querySelector('.info-video').play();\n    }, 300);\n  });\n});\nclosePlayBtn.addEventListener('click', e => {\n  document.querySelector('.product-play-overlay').classList.remove('show');\n  document.querySelector('body').classList.remove('no-scroll');\n  document.querySelector('html').classList.remove('no-scroll');\n  document.querySelector('.info-video').pause();\n});\nlet overlayCls = document.querySelector('.product-play-overlay');\noverlayCls.addEventListener('click', e => {\n  console.log(e.target, 'klikkk');\n  if (e.target.classList.contains('product-play-overlay')) {\n    document.querySelector('.product-play-overlay').classList.remove('show');\n    document.querySelector('body').classList.remove('no-scroll');\n    document.querySelector('html').classList.remove('no-scroll');\n    document.querySelector('.info-video').pause();\n  }\n});\nlet overlayClsImage = document.querySelector('.product-overlay');\noverlayClsImage.addEventListener('click', e => {\n  console.log('klikkk');\n  document.querySelector('.product-overlay').classList.remove('show');\n  document.querySelector('body').classList.remove('no-scroll');\n  document.querySelector('html').classList.remove('no-scroll');\n});\nrefreshCart();\nconst distanceTracker = $('.bundle-wrap').offset().top;\n$(window).scroll(function () {\n  const top_of_element = $('#shopify-section-footer').offset().top;\n  const bottom_of_element = $('#shopify-section-footer').offset().top + $('#shopify-section-footer').outerHeight();\n  const bottom_of_screen = $(window).scrollTop() + $(window).innerHeight();\n  const top_of_screen = $(window).scrollTop();\n  if (!(bottom_of_screen > top_of_element) && top_of_screen < bottom_of_element && $(this).scrollTop() >= distanceTracker) {\n    $('.section-bundle__tracker').addClass('tracker-fixed');\n  } else {\n    $('.section-bundle__tracker').removeClass('tracker-fixed');\n  }\n});\n\n// let mainVariantSelectors = document.querySelectorAll('.main-variant-selector');\n// if(mainVariantSelectors) {\n//   mainVariantSelectors.forEach(mainVariantSelector => {\n//     mainVariantSelector.addEventListener('change', function() {\n//       let parentElement = mainVariantSelector.parentElement;\n//       let parentDiv = parentElement.parentElement;\n//       let variantId = mainVariantSelector.value;\n//       let productId = document.querySelector(\"[data-title='\" + variantId + \"']\").getAttribute('data-variant');\n//       let productPrice = document.querySelector(\"[data-title='\" + variantId + \"']\").getAttribute('data-price');\n//       let comparePrice = document.querySelector(\"[data-title='\" + variantId + \"']\").getAttribute('data-compare-price');\n//       parentDiv.querySelector('.js-id-selector').setAttribute('data-item-id', productId);\n//       parentDiv.querySelector('.js-regular-price').innerHTML = productPrice;\n//       parentDiv.querySelector('.js-compare-price').innerHTML = comparePrice\n//       console.log(parentDiv,parentElement,productId, 'productId')\n//     });\n//   });\n// }\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  document.querySelectorAll('.product').forEach(productElement => {\n    const productId = productElement.getAttribute('data-product-id');\n    const selectors = productElement.querySelectorAll('.variant-selectors select');\n    const addToCartButton = productElement.querySelector('.js-id-selector');\n    function getVariantId(selectedOptions) {\n      const productVariants = window.productVariants[productId];\n      const variant = productVariants.find(variant => variant.options.every((option, index) => option === selectedOptions[index]));\n      return variant ? variant.id : '';\n    }\n    function updateAddToCartButton() {\n      let selectedOptions = [];\n      selectors.forEach(selector => {\n        selectedOptions.push(selector.value);\n      });\n      const variantId = getVariantId(selectedOptions);\n      if (variantId) {\n        addToCartButton.setAttribute('data-item-id', variantId);\n      }\n    }\n    selectors.forEach(selector => {\n      selector.addEventListener('change', updateAddToCartButton);\n    });\n    updateAddToCartButton();\n  });\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbW9kdWxlcy9idW5kbGUvYnVuZGxlLmpzIiwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zaG9waWZ5LWJhc2UtMi4wLy4vc3JjL21vZHVsZXMvYnVuZGxlL2J1bmRsZS5qcz8xNWYxIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgJy4vYnVuZGxlLmNzcydcblxuLy8gJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG4vLyAgICAgY29uc29sZS5sb2coJ3JlYWR5Jylcbi8vICAgICAgICQuYWpheCh7XG4vLyAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxuLy8gICAgICAgICB1cmw6ICcvY2FydC9jbGVhci5qcycsXG4vLyAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKCl7XG4vLyAgICAgICAgICAgY29uc29sZS5sb2coJ0kgY2xlYXJlZCB0aGUgY2FydCEnKTtcbi8vICAgICAgICAgfSxcbi8vICAgICAgICAgZGF0YVR5cGU6ICdqc29uJ1xuLy8gICAgIH0pO1xuLy8gfSk7XG5cbmNvbnN0IHRhYnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VjdGlvbi1idW5kbGVfX2NvbGxlY3Rpb24tdGFiJyk7XG5cbnRhYnMuZm9yRWFjaCh0YWIgPT4ge1xuICAgIHRhYi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgc2V0QWN0aXZlKHRhYik7XG4gICAgICAgIHNob3dQYW5lbCh0YWIpO1xuICAgIH0pO1xufSk7XG5cbmNvbnN0IHNldEFjdGl2ZSA9IGZ1bmN0aW9uIChlbCkge1xuICAgIFsuLi5lbC5wYXJlbnRFbGVtZW50LmNoaWxkcmVuXS5mb3JFYWNoKGZ1bmN0aW9uIChzaWIpIHtcbiAgICAgICAgc2liLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgIH0pO1xuICAgIGVsLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xufTtcblxuY29uc3Qgc2hvd1BhbmVsID0gKHRhYikgPT4ge1xuICAgIGxldCB0YWJJbmRleCA9IHRhYi5nZXRBdHRyaWJ1dGUoJ2RhdGEtdGFiJyk7XG4gICAgbGV0IHBhbmVscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zZWN0aW9uLWJ1bmRsZV9fcHJvZHVjdHMtaG9sZGVyJyk7XG5cbiAgICBwYW5lbHMuZm9yRWFjaChwYW5lbCA9PiB7XG4gICAgICAgIGNvbnN0IHBhbmVsSW5kZXggPSBwYW5lbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcGFuZWwnKTtcbiAgICAgICAgaWYgKHBhbmVsSW5kZXggPT09IHRhYkluZGV4KSB7XG4gICAgICAgICAgICBwYW5lbC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhbmVsLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgICB9XG4gICAgfSk7XG59O1xuXG4vL1NXSVBFUiBGT1IgQlVORExFIENBUlQgQ0FST1VTRUxcblxudmFyIHN3aXBlciA9IG5ldyBTd2lwZXIoJy5zZWN0aW9uLWJ1bmRsZV9fY2FydC1jYXJvdXNlbCcsIHtcbiAgICBzcGFjZUJldHdlZW46IDgsXG4gICAgc2xpZGVzUGVyVmlldzogNCxcbiAgICBzbGlkZXNQZXJHcm91cDogNCxcbiAgICBicmVha3BvaW50czoge1xuICAgICAgICA3Njg6IHtcbiAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6IDYsXG4gICAgICAgICAgICBzbGlkZXNQZXJHcm91cDogNixcbiAgICAgICAgICAgIGRyYWdnYWJsZTogZmFsc2UsXG4gICAgICAgIH0sXG4gICAgfSxcbiAgICBuYXZpZ2F0aW9uOiB7XG4gICAgICAgIG5leHRFbDogJy5zZWN0aW9uLWJ1bmRsZV9fY2FydC1jYXJvdXNlbCAuc3dpcGVyLWJ1dHRvbi1uZXh0JyxcbiAgICAgICAgcHJldkVsOiAnLnNlY3Rpb24tYnVuZGxlX19jYXJ0LWNhcm91c2VsIC5zd2lwZXItYnV0dG9uLXByZXYnXG4gICAgfSxcbiAgICBzY3JvbGxiYXI6IHtcbiAgICAgICAgZWw6ICcuc2VjdGlvbi1idW5kbGVfX2NhcnQtY2Fyb3VzZWwgLnN3aXBlci1zY3JvbGxiYXInLFxuICAgICAgICBkcmFnZ2FibGU6IHRydWUsXG4gICAgfVxufSk7XG5cbi8vVE9HR0xFIEJVTkRMRVxuY29uc3QgYnVuZGxlQ2Fyb3VzZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnVuZGxlLXdyYXAnKTtcbmNvbnN0IGJ1bmRsZVRvZ2dsZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtYnVuZGxlLXRvZ2dsZScpO1xuXG5idW5kbGVUb2dnbGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGJ1bmRsZUNhcm91c2VsLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGUtYnVuZGxlJyk7XG4gICAgaWYgKGJ1bmRsZUNhcm91c2VsLmNsYXNzTGlzdC5jb250YWlucygnaGlkZS1idW5kbGUnKSkge1xuICAgICAgICBidW5kbGVUb2dnbGVyLnRleHRDb250ZW50ID0gJ1NIT1cgQlVORExFJztcbiAgICB9IGVsc2Uge1xuICAgICAgICBidW5kbGVUb2dnbGVyLnRleHRDb250ZW50ID0gJ0hJREUgQlVORExFJztcbiAgICB9XG59KTtcblxuLy9BREQgVE8gQ0FSVCBMT0dJQ1xuY29uc3QgYnVuZGxlQXRjQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5qcy1idW5kbGUtYXRjJyk7XG5cbmlmICghIWJ1bmRsZUF0Y0J1dHRvbnMubGVuZ3RoKSB7XG4gICAgYnVuZGxlQXRjQnV0dG9ucy5mb3JFYWNoKGF0Y0J1dHRvbiA9PiB7XG4gICAgICAgIGF0Y0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIGxldCBhZGRJdGVtcyA9IFtdXG4gICAgICAgICAgICAvLyBhdGNCdXR0b24uZGF0YXNldC5xdWFudGl0eSA9IHF1YW50aXR5XG4gICAgICAgICAgICBhZGRJdGVtcyA9IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBhdGNCdXR0b24uZ2V0QXR0cmlidXRlKCdkYXRhLXByb2R1Y3QnKSxcbiAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IDFcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgICAgICBjb25zdCBmb3JtRGF0YSA9IHtcbiAgICAgICAgICAgICAgICBpdGVtczogYWRkSXRlbXNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZldGNoKHdpbmRvdy5TaG9waWZ5LnJvdXRlcy5yb290ICsgJ2NhcnQvYWRkLmpzJywge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZm9ybURhdGEpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2Uuc3RhdHVzKVxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLnN0YXR1cywgJ29rJylcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hDYXJ0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvcjonLCBlcnJvcilcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH0pXG59XG5cbmFzeW5jIGZ1bmN0aW9uIGdldENhcnQoKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZmV0Y2goXCIvY2FydC5qc29uXCIpO1xuICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5qc29uKCk7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGdldCByZXF1ZXN0LCBTaG9waWZ5IHJldHVybmVkICR7cmVzdWx0LnN0YXR1c30gJHtyZXN1bHQuc3RhdHVzVGV4dH1gKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gcmVmcmVzaENhcnQoKSB7XG4gICAgY29uc3QgY2FydCA9IGF3YWl0IGdldENhcnQoKTtcbiAgICAvLyBjb25zb2xlLmxvZyhjYXJ0LCAnY2FydCcpXG4gICAgLy8gY29uc29sZS5sb2coY2FydC5pdGVtcywgJ2NhcnQuaXRlbXMnKVxuICAgIC8vIGNvbnNvbGUubG9nKGNhcnQuaXRlbXMucmV2ZXJzZSgpLCAnY2FydC5pdGVtcy5yZXZlcnNlKCknKVxuICAgIGNvbnN0IGJ1bmRsZUl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNlY3Rpb24tYnVuZGxlX19jYXJ0LWNhcm91c2VsLWl0ZW0nKTtcbiAgICBjb25zdCBidW5kbGVIb2xkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtaG9sZGVyJyk7XG4gICAgYnVuZGxlSG9sZGVyLmlubmVySFRNTCA9ICcnO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTI7IGkrKykge1xuICAgICAgICBpZihjYXJ0Lml0ZW1zW2ldKSB7XG4gICAgICAgICAgICBsZXQgZnJlZSA9ICcnXG4gICAgICAgICAgICBpZihjYXJ0Lml0ZW1zW2ldLnByb3BlcnRpZXMuX2F0dHJpYnV0aW9uICYmIGNhcnQuaXRlbXNbaV0ucHJvcGVydGllcy5fYXR0cmlidXRpb24gPT0gXCJSZWJ1eSBUaWVyZWQgUHJvZ3Jlc3MgQmFyXCIpIHtcbiAgICAgICAgICAgICAgICBmcmVlID0gXCJGcmVlIVwiXG4gICAgICAgICAgICB9XG4gICAgICAgIGJ1bmRsZUhvbGRlci5pbm5lckhUTUwgKz0gYFxuICAgICAgICA8ZGl2IGNsYXNzPVwic3dpcGVyLXNsaWRlIHAtWzE4cHhdXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2VjdGlvbi1idW5kbGVfX2NhcnQtY2Fyb3VzZWwtaXRlbSBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgZGF0YS1wcm9kdWN0LWlkPVwiJHtjYXJ0Lml0ZW1zW2ldLnByb2R1Y3RfaWR9XCIgZGF0YS12YXJpYW50LWlkPVwiJHtjYXJ0Lml0ZW1zW2ldLnZhcmlhbnRfaWR9XCIgY2xhc3M9XCJqcy1yZW1vdmVcIj5YPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInF0eS1ob2xkZXJcIj4ke2NhcnQuaXRlbXNbaV0ucXVhbnRpdHkgPiAxID8gY2FydC5pdGVtc1tpXS5xdWFudGl0eSA6ICcnfTwvZGl2PlxuICAgICAgICAgICAgICAgIDxpbWcgY2xhc3M9XCJcIiBzcmM9XCIke2NhcnQuaXRlbXNbaV0uaW1hZ2V9XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZyZWUtaXRlbVwiPiR7ZnJlZX08L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgYH0gZWxzZSB7XG4gICAgICAgICAgICBidW5kbGVIb2xkZXIuaW5uZXJIVE1MICs9IGBcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzd2lwZXItc2xpZGVcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2VjdGlvbi1idW5kbGVfX2NhcnQtY2Fyb3VzZWwtaXRlbVwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXF1YW50aXR5X19idXR0b24gaW5jcmVhc2UgIHAgZG0tc2Fucy1ub3JtYWwgY29sb3Itd2hpdGUgdGV4dC1jZW50ZXJcIj4rPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIGBcbiAgICAgICAgfVxuICAgICAgICBpZihjYXJ0Lml0ZW1zW2ldICYmIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jbGFzcy0nICsgY2FydC5pdGVtc1tpXS5wcm9kdWN0X2lkKSkge1xuICAgICAgICAgICAgbGV0IHNlbGVjdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNsYXNzLScgKyBjYXJ0Lml0ZW1zW2ldLnByb2R1Y3RfaWQpXG4gICAgICAgICAgICBzZWxlY3Rvci5xdWVyeVNlbGVjdG9yKCcuanMtcXR5LW51bWJlcicpLmlubmVySFRNTCA9IGNhcnQuaXRlbXNbaV0ucXVhbnRpdHk7XG4gICAgICAgICAgICBzZWxlY3Rvci5xdWVyeVNlbGVjdG9yKCcucGx1cycpLnNldEF0dHJpYnV0ZSgnZGF0YS1xdWFudGl0eScsIGNhcnQuaXRlbXNbaV0ucXVhbnRpdHkgKyAxKTtcbiAgICAgICAgICAgIHNlbGVjdG9yLnF1ZXJ5U2VsZWN0b3IoJy5taW51cycpLnNldEF0dHJpYnV0ZSgnZGF0YS1xdWFudGl0eScsIGNhcnQuaXRlbXNbaV0ucXVhbnRpdHkgLTEgKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zb2xlLmxvZyhidW5kbGVIb2xkZXIsICdidW5kbGVIb2xkZXInKVxuICAgIGNvbnNvbGUubG9nKGNhcnQsIGNhcnQub3JpZ2luYWxfdG90YWxfcHJpY2UgLyAxMDAsICdjYXJ0IG9yZ2luYWwgdG90YWwgcHJpY2UnKVxuICAgIGxldCBpdGVtQ291bnQgPSAwO1xuICAgIGxldCBnaWZ0Q291bnQgPSAwO1xuICAgIGZvciAobGV0IGQgPSAwOyBkIDwgY2FydC5pdGVtcy5sZW5ndGg7IGQrKykge1xuICAgICAgICBpZihjYXJ0Lml0ZW1zW2RdLnByb3BlcnRpZXMuX3NvdXJjZSAhPSBcIlJlYnV5XCIpIHtcbiAgICAgICAgICAgIGl0ZW1Db3VudCArPSBjYXJ0Lml0ZW1zW2RdLnF1YW50aXR5XG4gICAgICAgICAgICBnaWZ0Q291bnQgKz0gKGNhcnQuaXRlbXNbZF0uZmluYWxfcHJpY2UgKiBjYXJ0Lml0ZW1zW2RdLnF1YW50aXR5KVxuICAgICAgICB9XG4gICAgfVxuICAgIGxldCBjdXJyZW5jeSA9IGNhcnQuY3VycmVuY3k7XG4gICAgaWYoY3VycmVuY3kgPT0gJ1VTRCcpIHtcbiAgICAgICAgY3VycmVuY3kgPSAnJCdcbiAgICB9XG4gICAgaWYoY3VycmVuY3kgPT0gJ0VVUicpIHtcbiAgICAgICAgY3VycmVuY3kgPSAn4oKsJ1xuICAgIH1cblxuICAgIGxldCBmaXJzdEdpZnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZ2lmdC10cmFja2VyLWhvbGRlcicpLmdldEF0dHJpYnV0ZSgnZGF0YS1maXJzdCcpO1xuICAgIGxldCBzZWNvbmRHaWZ0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmdpZnQtdHJhY2tlci1ob2xkZXInKS5nZXRBdHRyaWJ1dGUoJ2RhdGEtc2Vjb25kJyk7XG5cbiAgICBjb25zb2xlLmxvZyhmaXJzdEdpZnQsIHNlY29uZEdpZnQsIGdpZnRDb3VudCAsICdzYWJlcmlzZScpXG5cbiAgICBsZXQgY2lyY2xlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNpcmNsZS1jaGFydF9fY2lyY2xlJylcblxuXG4gICAgaWYoZ2lmdENvdW50IDwgZmlyc3RHaWZ0KSB7XG4gICAgICAgIGxldCBjdXJyZW5jeSA9IGNhcnQuY3VycmVuY3k7XG4gICAgICAgIGlmKGN1cnJlbmN5ID09ICdVU0QnKSB7XG4gICAgICAgICAgICBjdXJyZW5jeSA9ICckJ1xuICAgICAgICB9XG4gICAgICAgIGlmKGN1cnJlbmN5ID09ICdFVVInKSB7XG4gICAgICAgICAgICBjdXJyZW5jeSA9ICfigqwnXG4gICAgICAgIH1cbiAgICAgICAgY2lyY2xlLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLWRhc2hvZmZzZXQnLCAxMDAwIC0gKGdpZnRDb3VudC9maXJzdEdpZnQpKjU0MCk7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sZWZ0LXRvLWdpZnQnKS5pbm5lckhUTUwgPSc8aW1nICBjbGFzcz1cIm1heC13LVs0MCVdIG14LWF1dG9cIiBzcmM9XCJodHRwczovL2Nkbi5zaG9waWZ5LmNvbS9zL2ZpbGVzLzEvMDA3MS8xNzI3LzUxOTEvZmlsZXMvTmV3X2ZyZWVfZ2lmdF90aXRhbl9raXRfc3ltYm9sX2NhYmxlX3doZWVsLnBuZz92PTE3MTQ2NDgwNzdcIj4nICsgKChmaXJzdEdpZnQgLSBnaWZ0Q291bnQpLzEwMCkgKyBjdXJyZW5jeSArICc8YnI+IE1PUkUhJztcbiAgICB9XG4gICAgaWYoZ2lmdENvdW50ID4gZmlyc3RHaWZ0KSB7XG4gICAgICAgIGxldCBjdXJyZW5jeSA9IGNhcnQuY3VycmVuY3k7XG4gICAgICAgIGlmKGN1cnJlbmN5ID09ICdVU0QnKSB7XG4gICAgICAgICAgICBjdXJyZW5jeSA9ICckJ1xuICAgICAgICB9XG4gICAgICAgIGlmKGN1cnJlbmN5ID09ICdFVVInKSB7XG4gICAgICAgICAgICBjdXJyZW5jeSA9ICfigqwnXG4gICAgICAgIH1cbiAgICAgICAgY2lyY2xlLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLWRhc2hvZmZzZXQnLCAxMDAwIC0gKGdpZnRDb3VudC9zZWNvbmRHaWZ0KSo1NDApO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubGVmdC10by1naWZ0JykuaW5uZXJIVE1MID0nPGltZyBjbGFzcz1cIm1heC13LVs0MCVdIG14LWF1dG9cIiBzcmM9XCJodHRwczovL2Nkbi5zaG9waWZ5LmNvbS9zL2ZpbGVzLzEvMDA3MS8xNzI3LzUxOTEvZmlsZXMvNF9pbl8xX2NhYmxlX0ljb25fdGl0YW5fa2l0X3doZWVsXy1fZ3JlZW5fZ2xvdy5wbmc/dj0xNzMwNjIzOTI3XCI+JyArKChzZWNvbmRHaWZ0IC0gZ2lmdENvdW50KS8xMDApICsgY3VycmVuY3kgKyAgJzxicj4gTU9SRSEnO1xuICAgICB9XG4gICAgIGlmKHNlY29uZEdpZnQgLSBnaWZ0Q291bnQgPD0gMCkge1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubGVmdC10by1naWZ0JykuaW5uZXJIVE1MID0nQUxMIEdJRlRTIFVOTE9DS0VEISc7XG5cbiAgICAgfVxuXG4gICAgdmFyIHN3aXBlciA9IG5ldyBTd2lwZXIoJy5zZWN0aW9uLWJ1bmRsZV9fY2FydC1jYXJvdXNlbCcsIHtcbiAgICAgICAgc3BhY2VCZXR3ZWVuOiA4LFxuICAgICAgICBzbGlkZXNQZXJWaWV3OiA0LFxuICAgICAgICBzbGlkZXNQZXJHcm91cDogNCxcbiAgICAgICAgYnJlYWtwb2ludHM6IHtcbiAgICAgICAgICAgIDc2ODoge1xuICAgICAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6IDYsXG4gICAgICAgICAgICAgICAgc2xpZGVzUGVyR3JvdXA6IDYsXG4gICAgICAgICAgICAgICAgZHJhZ2dhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIG5hdmlnYXRpb246IHtcbiAgICAgICAgICAgIG5leHRFbDogJy5zZWN0aW9uLWJ1bmRsZV9fY2FydC1jYXJvdXNlbCAuc3dpcGVyLWJ1dHRvbi1uZXh0JyxcbiAgICAgICAgICAgIHByZXZFbDogJy5zZWN0aW9uLWJ1bmRsZV9fY2FydC1jYXJvdXNlbCAuc3dpcGVyLWJ1dHRvbi1wcmV2J1xuICAgICAgICB9LFxuICAgICAgICBzY3JvbGxiYXI6IHtcbiAgICAgICAgICAgIGVsOiAnLnNlY3Rpb24tYnVuZGxlX19jYXJ0LWNhcm91c2VsIC5zd2lwZXItc2Nyb2xsYmFyJyxcbiAgICAgICAgICAgIGRyYWdnYWJsZTogdHJ1ZSxcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGxldCBhbGxRdHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuanMtcXR5LW51bWJlcicpO1xuICAgIGxldCBwb2ludHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucG9pbnQnKTtcbiAgICBsZXQgYWxsTGluZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubGluZScpO1xuICAgIGxldCBhbGxOdW1iZXIgPSAwO1xuICAgIGZvciAobGV0IHkgPSAwOyB5IDwgYWxsUXR5Lmxlbmd0aDsgeSsrKSB7XG4gICAgICAgIGFsbE51bWJlciArPSBwYXJzZUZsb2F0KGFsbFF0eVt5XS5pbm5lckhUTUwpO1xuICAgIH1cbiAgICBwb2ludHMuZm9yRWFjaCgocG9pbnQsIGluZGV4KSA9PiB7XG4gICAgICAgIGlmKHBvaW50KSB7XG4gICAgICAgICAgICBwb2ludC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnI2FkYWRhZCdcbiAgICAgICAgfVxuICAgIH0pXG4gICAgYWxsTGluZXMuZm9yRWFjaCgoYWxsTGluZSwgaW5kZXgpID0+IHtcbiAgICAgICAgaWYoYWxsTGluZSkge1xuICAgICAgICAgICAgYWxsTGluZS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnI2FkYWRhZCdcbiAgICAgICAgfVxuICAgIH0pXG4gICAgZm9yIChsZXQgeiA9IDA7IHogPCBhbGxOdW1iZXI7IHorKykge1xuICAgICAgICBpZihwb2ludHNbel0pIHtcbiAgICAgICAgICAgIHBvaW50c1t6XS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnIzYwYzY1NSc7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbGV0IGxpbWl0ZXIgPSBhbGxOdW1iZXIgKiAyIC0gMTtcbiAgICBmb3IgKGxldCBrID0gMDsgayA8IGxpbWl0ZXI7IGsrKykge1xuICAgICAgICBpZihhbGxMaW5lc1trXSkge1xuICAgICAgICAgICAgYWxsTGluZXNba10uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyM2MGM2NTUnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5qcy1yZW1vdmUnKS5mb3JFYWNoKChyZW1vdmUpID0+IHtcbiAgICAgICAgICAgIHJlbW92ZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgaXRlbUlkID0gcmVtb3ZlLmdldEF0dHJpYnV0ZSgnZGF0YS12YXJpYW50LWlkJyk7XG4gICAgICAgICAgICAgICAgbGV0IHByb2R1Y3RJZCA9IHJlbW92ZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtcHJvZHVjdC1pZCcpO1xuICAgICAgICAgICAgICAgIGZldGNoKHdpbmRvdy5TaG9waWZ5LnJvdXRlcy5yb290ICsgJ2NhcnQvY2hhbmdlLmpzJywge1xuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogaXRlbUlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IDBcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5zdGF0dXMpXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5zdGF0dXMsICdva2traycpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNlbGVjdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNsYXNzLScgKyBwcm9kdWN0SWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3IucXVlcnlTZWxlY3RvcignLmpzLXF0eS1udW1iZXInKS5pbm5lckhUTUwgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yLnF1ZXJ5U2VsZWN0b3IoJy5wbHVzJykuc2V0QXR0cmlidXRlKCdkYXRhLXF1YW50aXR5JywgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3IucXVlcnlTZWxlY3RvcignLm1pbnVzJykuc2V0QXR0cmlidXRlKCdkYXRhLXF1YW50aXR5JywgMCApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hDYXJ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yOicsIGVycm9yKVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICB9LCAyMDAwKVxuICAgIGxldCB0b3RhbFByaWNlID0gMDtcblxuICAgIGNhcnQuaXRlbXMuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgdG90YWxQcmljZSArPSBpdGVtLnByaWNlICogaXRlbS5xdWFudGl0eTtcbiAgICB9KTtcblxuICAgIGNvbnNvbGUubG9nKGNhcnQuaXRlbXMpO1xuXG4gICAgY29uc3QgZm9ybWF0dGVkUHJpY2UgPSBjdXJyZW5jeSArIChnaWZ0Q291bnQvMTAwKS50b0ZpeGVkKDIpO1xuXG4gICAgY29uc3QgdG90YWxQcmljZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VjdGlvbi1idW5kbGVfX3N0aWNreS1wcmljZScpO1xuICAgIHRvdGFsUHJpY2VFbGVtZW50LnRleHRDb250ZW50ID0gZm9ybWF0dGVkUHJpY2U7XG5cbiAgICBjb25zdCBjaGVja291dEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWN0aW9uLWJ1bmRsZV9fc3RpY2t5LWNoZWNrb3V0IGEnKTtcbiAgICBpZiAodG90YWxQcmljZSA9PT0gMCkge1xuICAgICAgICBjaGVja291dEJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgdHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY2hlY2tvdXRCdXR0b24ucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICAgIH1cbiAgICBjb25zb2xlLmxvZygnUmVmcmVzaGVkIGNhcnQnKTtcbn1cblxubGV0IHVwZGF0ZUNhcnQgPSAoaXRlbUlkLCBxKSA9PiB7XG4gICAgbGV0IG92ZXJsYXlCdW5kbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnVuZGxlLW92ZXJsYXknKTtcbiAgICBvdmVybGF5QnVuZGxlLmNsYXNzTGlzdC5hZGQoJ3Nob3cnKTtcbiAgICBsZXQgbmFtZUtleSA9IGl0ZW1JZFxuICAgIGxldCBuYW1lVmFsdWUgPSBxXG4gICAgbGV0IHVwZGF0ZXMgPSB7fTtcbiAgICB1cGRhdGVzW25hbWVLZXldID0gbmFtZVZhbHVlO1xuICAgIGNvbnNvbGUubG9nKHVwZGF0ZXMsICd1cGRhdGVPYmplY3QnKVxuICAgIC8vIGpRdWVyeS5wb3N0KCcvY2FydC91cGRhdGUuanMnLCB7dXBkYXRlczp7Li4udXBkYXRlT2JqZWN0fX0pO1xuXG4gICAgZmV0Y2god2luZG93LlNob3BpZnkucm91dGVzLnJvb3QgKyAnY2FydC91cGRhdGUuanMnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHVwZGF0ZXMgfSlcbiAgICAgIH0pXG4gICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLnN0YXR1cywgJ3N0YXR1cycpXG4gICAgICAgIGlmKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgICBvdmVybGF5QnVuZGxlLmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3cnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3I6JywgZXJyb3IpO1xuICAgICAgfSk7XG5cbn1cbmNvbnN0IHBsdXNlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wbHVzJylcbmNvbnN0IG1pbnVzZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubWludXMnKVxuXG5wbHVzZXMuZm9yRWFjaCgocGx1c2UpID0+IHtcbiAgICBwbHVzZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgbGV0IGl0ZW1JZCA9IHBsdXNlLnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKCdkYXRhLWl0ZW0taWQnKTtcbiAgICAgICAgY29uc29sZS5sb2coaXRlbUlkLCAnaXRlbUlkJylcbiAgICAgICAgbGV0IHF1YW50aXR5ID0gcGx1c2UuZ2V0QXR0cmlidXRlKCdkYXRhLXF1YW50aXR5Jyk7XG4gICAgICAgIGxldCBudW1iZXIgPSBwbHVzZS5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3IoJy5qcy1xdHktbnVtYmVyJylcbiAgICAgICAgY29uc3QgbmV3VmFsdWUgPSBwYXJzZUludChxdWFudGl0eSkgKyAxXG4gICAgICAgIG51bWJlci5pbm5lckhUTUwgPSBxdWFudGl0eVxuICAgICAgICB1cGRhdGVDYXJ0KGl0ZW1JZCwgcXVhbnRpdHkpO1xuICAgICAgICBwbHVzZS5zZXRBdHRyaWJ1dGUoJ2RhdGEtcXVhbnRpdHknLCBuZXdWYWx1ZSlcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICByZWZyZXNoQ2FydCgpO1xuICAgICAgICB9LCAxMDAwKVxuICAgIH0pXG59KVxuXG5taW51c2VzLmZvckVhY2goKG1pbnVzKSA9PiB7XG4gICAgbWludXMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGxldCBpdGVtSWQgPSBtaW51cy5wYXJlbnROb2RlLmdldEF0dHJpYnV0ZSgnZGF0YS1pdGVtLWlkJyk7XG4gICAgICAgIGxldCBxdWFudGl0eSA9IG1pbnVzLmdldEF0dHJpYnV0ZSgnZGF0YS1xdWFudGl0eScpO1xuICAgICAgICBsZXQgbnVtYmVyID0gbWludXMucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKCcuanMtcXR5LW51bWJlcicpXG4gICAgICAgIGNvbnN0IG5ld1ZhbHVlID0gcGFyc2VJbnQocXVhbnRpdHkpIC0gMVxuICAgICAgICBudW1iZXIuaW5uZXJIVE1MID0gcXVhbnRpdHlcbiAgICAgICAgdXBkYXRlQ2FydChpdGVtSWQsIHF1YW50aXR5KTtcbiAgICAgICAgbWludXMuc2V0QXR0cmlidXRlKCdkYXRhLXF1YW50aXR5JywgbmV3VmFsdWUpXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgcmVmcmVzaENhcnQoKTtcbiAgICAgICAgfSwgMTAwMClcbiAgICB9KVxufSlcblxubGV0IGluZm9UcmlnZXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmluZm8taWNvbi10cmlnZ2VyJyk7XG5sZXQgY2xvc2VCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2xvc2UnKTtcbmluZm9UcmlnZXJzLmZvckVhY2goKGluZm9UcmlnZXIpID0+IHtcbiAgICBpbmZvVHJpZ2VyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZS50YXJnZXQsICd0aGlzJylcbiAgICAgICAgbGV0IGluZm9JbWFnZSA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1pbWFnZScpO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaW5mby1pbWFnZScpLnNyYyA9IGluZm9JbWFnZTtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2R1Y3Qtb3ZlcmxheScpLmNsYXNzTGlzdC5hZGQoJ3Nob3cnKTtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpLmNsYXNzTGlzdC5hZGQoJ25vLXNjcm9sbCcpXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2h0bWwnKS5jbGFzc0xpc3QuYWRkKCduby1zY3JvbGwnKVxuICAgIH0pXG59KVxuY2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9kdWN0LW92ZXJsYXknKS5jbGFzc0xpc3QucmVtb3ZlKCdzaG93Jyk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpLmNsYXNzTGlzdC5yZW1vdmUoJ25vLXNjcm9sbCcpXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaHRtbCcpLmNsYXNzTGlzdC5yZW1vdmUoJ25vLXNjcm9sbCcpXG59KVxuXG5sZXQgaW5mb1BsYXlUcmlnZXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmluZm8tcGxheS10cmlnZ2VyJyk7XG5sZXQgY2xvc2VQbGF5QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNsb3NlLXBsYXknKTtcbmluZm9QbGF5VHJpZ2Vycy5mb3JFYWNoKChpbmZvVHJpZ2VyKSA9PiB7XG4gICAgaW5mb1RyaWdlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGUuY3VycmVudFRhcmdldCwgJ3RoaXMnKVxuICAgICAgICBsZXQgaW5mb1ZpZGVvID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXZpZGVvJyk7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pbmZvLXZpZGVvJykuc3JjID0gaW5mb1ZpZGVvO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZHVjdC1wbGF5LW92ZXJsYXknKS5jbGFzc0xpc3QuYWRkKCdzaG93Jyk7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKS5jbGFzc0xpc3QuYWRkKCduby1zY3JvbGwnKVxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdodG1sJykuY2xhc3NMaXN0LmFkZCgnbm8tc2Nyb2xsJylcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaW5mby12aWRlbycpLnBsYXkoKTtcbiAgICAgICAgfSwgMzAwKVxuICAgIH0pXG59KVxuY2xvc2VQbGF5QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZHVjdC1wbGF5LW92ZXJsYXknKS5jbGFzc0xpc3QucmVtb3ZlKCdzaG93Jyk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpLmNsYXNzTGlzdC5yZW1vdmUoJ25vLXNjcm9sbCcpXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaHRtbCcpLmNsYXNzTGlzdC5yZW1vdmUoJ25vLXNjcm9sbCcpXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmluZm8tdmlkZW8nKS5wYXVzZSgpO1xufSlcblxubGV0IG92ZXJsYXlDbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZHVjdC1wbGF5LW92ZXJsYXknKTtcbm92ZXJsYXlDbHMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgIGNvbnNvbGUubG9nKGUudGFyZ2V0LCAna2xpa2trJylcbiAgICBpZihlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3Byb2R1Y3QtcGxheS1vdmVybGF5JykpIHtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2R1Y3QtcGxheS1vdmVybGF5JykuY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5JykuY2xhc3NMaXN0LnJlbW92ZSgnbm8tc2Nyb2xsJylcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaHRtbCcpLmNsYXNzTGlzdC5yZW1vdmUoJ25vLXNjcm9sbCcpXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pbmZvLXZpZGVvJykucGF1c2UoKTtcbiAgICB9XG59KVxuXG5sZXQgb3ZlcmxheUNsc0ltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2R1Y3Qtb3ZlcmxheScpO1xub3ZlcmxheUNsc0ltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICBjb25zb2xlLmxvZygna2xpa2trJylcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZHVjdC1vdmVybGF5JykuY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKS5jbGFzc0xpc3QucmVtb3ZlKCduby1zY3JvbGwnKVxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2h0bWwnKS5jbGFzc0xpc3QucmVtb3ZlKCduby1zY3JvbGwnKVxufSlcblxucmVmcmVzaENhcnQoKTtcblxuY29uc3QgZGlzdGFuY2VUcmFja2VyID0gJCgnLmJ1bmRsZS13cmFwJykub2Zmc2V0KCkudG9wXG4kKHdpbmRvdykuc2Nyb2xsKGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCB0b3Bfb2ZfZWxlbWVudCA9ICQoJyNzaG9waWZ5LXNlY3Rpb24tZm9vdGVyJykub2Zmc2V0KCkudG9wXG4gICAgY29uc3QgYm90dG9tX29mX2VsZW1lbnQgPSAkKCcjc2hvcGlmeS1zZWN0aW9uLWZvb3RlcicpLm9mZnNldCgpLnRvcCArICQoJyNzaG9waWZ5LXNlY3Rpb24tZm9vdGVyJykub3V0ZXJIZWlnaHQoKVxuICAgIGNvbnN0IGJvdHRvbV9vZl9zY3JlZW4gPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCkgKyAkKHdpbmRvdykuaW5uZXJIZWlnaHQoKVxuICAgIGNvbnN0IHRvcF9vZl9zY3JlZW4gPSAkKHdpbmRvdykuc2Nyb2xsVG9wKClcbiAgICBpZiAoIShib3R0b21fb2Zfc2NyZWVuID4gdG9wX29mX2VsZW1lbnQpICYmICh0b3Bfb2Zfc2NyZWVuIDwgYm90dG9tX29mX2VsZW1lbnQpICYmICQodGhpcykuc2Nyb2xsVG9wKCkgPj0gZGlzdGFuY2VUcmFja2VyKSB7XG4gICAgICAkKCcuc2VjdGlvbi1idW5kbGVfX3RyYWNrZXInKS5hZGRDbGFzcygndHJhY2tlci1maXhlZCcpXG4gICAgfSBlbHNlIHtcbiAgICAgICQoJy5zZWN0aW9uLWJ1bmRsZV9fdHJhY2tlcicpLnJlbW92ZUNsYXNzKCd0cmFja2VyLWZpeGVkJylcbiAgICB9XG59KVxuXG5cblxuLy8gbGV0IG1haW5WYXJpYW50U2VsZWN0b3JzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm1haW4tdmFyaWFudC1zZWxlY3RvcicpO1xuLy8gaWYobWFpblZhcmlhbnRTZWxlY3RvcnMpIHtcbi8vICAgbWFpblZhcmlhbnRTZWxlY3RvcnMuZm9yRWFjaChtYWluVmFyaWFudFNlbGVjdG9yID0+IHtcbi8vICAgICBtYWluVmFyaWFudFNlbGVjdG9yLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uKCkge1xuLy8gICAgICAgbGV0IHBhcmVudEVsZW1lbnQgPSBtYWluVmFyaWFudFNlbGVjdG9yLnBhcmVudEVsZW1lbnQ7XG4vLyAgICAgICBsZXQgcGFyZW50RGl2ID0gcGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50O1xuLy8gICAgICAgbGV0IHZhcmlhbnRJZCA9IG1haW5WYXJpYW50U2VsZWN0b3IudmFsdWU7XG4vLyAgICAgICBsZXQgcHJvZHVjdElkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIltkYXRhLXRpdGxlPSdcIiArIHZhcmlhbnRJZCArIFwiJ11cIikuZ2V0QXR0cmlidXRlKCdkYXRhLXZhcmlhbnQnKTtcbi8vICAgICAgIGxldCBwcm9kdWN0UHJpY2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtdGl0bGU9J1wiICsgdmFyaWFudElkICsgXCInXVwiKS5nZXRBdHRyaWJ1dGUoJ2RhdGEtcHJpY2UnKTtcbi8vICAgICAgIGxldCBjb21wYXJlUHJpY2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtdGl0bGU9J1wiICsgdmFyaWFudElkICsgXCInXVwiKS5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29tcGFyZS1wcmljZScpO1xuLy8gICAgICAgcGFyZW50RGl2LnF1ZXJ5U2VsZWN0b3IoJy5qcy1pZC1zZWxlY3RvcicpLnNldEF0dHJpYnV0ZSgnZGF0YS1pdGVtLWlkJywgcHJvZHVjdElkKTtcbi8vICAgICAgIHBhcmVudERpdi5xdWVyeVNlbGVjdG9yKCcuanMtcmVndWxhci1wcmljZScpLmlubmVySFRNTCA9IHByb2R1Y3RQcmljZTtcbi8vICAgICAgIHBhcmVudERpdi5xdWVyeVNlbGVjdG9yKCcuanMtY29tcGFyZS1wcmljZScpLmlubmVySFRNTCA9IGNvbXBhcmVQcmljZVxuLy8gICAgICAgY29uc29sZS5sb2cocGFyZW50RGl2LHBhcmVudEVsZW1lbnQscHJvZHVjdElkLCAncHJvZHVjdElkJylcbi8vICAgICB9KTtcbi8vICAgfSk7XG4vLyB9XG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbigpIHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucHJvZHVjdCcpLmZvckVhY2gocHJvZHVjdEVsZW1lbnQgPT4ge1xuICAgICAgY29uc3QgcHJvZHVjdElkID0gcHJvZHVjdEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXByb2R1Y3QtaWQnKTtcbiAgICAgIGNvbnN0IHNlbGVjdG9ycyA9IHByb2R1Y3RFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy52YXJpYW50LXNlbGVjdG9ycyBzZWxlY3QnKTtcbiAgICAgIGNvbnN0IGFkZFRvQ2FydEJ1dHRvbiA9IHByb2R1Y3RFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1pZC1zZWxlY3RvcicpO1xuXG4gICAgICBmdW5jdGlvbiBnZXRWYXJpYW50SWQoc2VsZWN0ZWRPcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHByb2R1Y3RWYXJpYW50cyA9IHdpbmRvdy5wcm9kdWN0VmFyaWFudHNbcHJvZHVjdElkXTtcbiAgICAgICAgY29uc3QgdmFyaWFudCA9IHByb2R1Y3RWYXJpYW50cy5maW5kKHZhcmlhbnQgPT5cbiAgICAgICAgICB2YXJpYW50Lm9wdGlvbnMuZXZlcnkoKG9wdGlvbiwgaW5kZXgpID0+IG9wdGlvbiA9PT0gc2VsZWN0ZWRPcHRpb25zW2luZGV4XSlcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIHZhcmlhbnQgPyB2YXJpYW50LmlkIDogJyc7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHVwZGF0ZUFkZFRvQ2FydEJ1dHRvbigpIHtcbiAgICAgICAgbGV0IHNlbGVjdGVkT3B0aW9ucyA9IFtdO1xuICAgICAgICBzZWxlY3RvcnMuZm9yRWFjaChzZWxlY3RvciA9PiB7XG4gICAgICAgICAgc2VsZWN0ZWRPcHRpb25zLnB1c2goc2VsZWN0b3IudmFsdWUpO1xuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCB2YXJpYW50SWQgPSBnZXRWYXJpYW50SWQoc2VsZWN0ZWRPcHRpb25zKTtcblxuICAgICAgICBpZih2YXJpYW50SWQpIHtcbiAgICAgICAgICAgIGFkZFRvQ2FydEJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtaXRlbS1pZCcsIHZhcmlhbnRJZCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgc2VsZWN0b3JzLmZvckVhY2goc2VsZWN0b3IgPT4ge1xuICAgICAgICBzZWxlY3Rvci5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB1cGRhdGVBZGRUb0NhcnRCdXR0b24pO1xuICAgICAgfSk7XG5cbiAgICAgIHVwZGF0ZUFkZFRvQ2FydEJ1dHRvbigpO1xuICAgIH0pO1xuICB9KTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/modules/bundle/bundle.js\n");

/***/ }),

/***/ "./src/scripts/entries/section/bundle.js":
/*!***********************************************!*\
  !*** ./src/scripts/entries/section/bundle.js ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var lib_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lib/components */ \"./src/scripts/lib/components.js\");\n/* harmony import */ var modules_bundle_bundle_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! modules/bundle/bundle.js */ \"./src/modules/bundle/bundle.js\");\n\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  (0,lib_components__WEBPACK_IMPORTED_MODULE_0__.initComponent)(modules_bundle_bundle_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], 'Bundle');\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9lbnRyaWVzL3NlY3Rpb24vYnVuZGxlLmpzIiwibWFwcGluZ3MiOiI7OztBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zaG9waWZ5LWJhc2UtMi4wLy4vc3JjL3NjcmlwdHMvZW50cmllcy9zZWN0aW9uL2J1bmRsZS5qcz8xODcwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGluaXRDb21wb25lbnQgfSBmcm9tICdsaWIvY29tcG9uZW50cydcbmltcG9ydCBCdW5kbGUgZnJvbSAnbW9kdWxlcy9idW5kbGUvYnVuZGxlLmpzJ1xuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICBpbml0Q29tcG9uZW50KEJ1bmRsZSwgJ0J1bmRsZScpXG59KVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scripts/entries/section/bundle.js\n");

/***/ }),

/***/ "./src/modules/bundle/bundle.css":
/*!***************************************!*\
  !*** ./src/modules/bundle/bundle.css ***!
  \***************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbW9kdWxlcy9idW5kbGUvYnVuZGxlLmNzcyIsIm1hcHBpbmdzIjoiO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zaG9waWZ5LWJhc2UtMi4wLy4vc3JjL21vZHVsZXMvYnVuZGxlL2J1bmRsZS5jc3M/MGM0YSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCB7fTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/modules/bundle/bundle.css\n");

/***/ })

},
/******/ function(__webpack_require__) { // webpackRuntimeModules
/******/ var __webpack_exec__ = function(moduleId) { return __webpack_require__(__webpack_require__.s = moduleId); }
/******/ __webpack_require__.O(0, ["commons"], function() { return __webpack_exec__("./src/scripts/entries/section/bundle.js"); });
/******/ var __webpack_exports__ = __webpack_require__.O();
/******/ }
]);