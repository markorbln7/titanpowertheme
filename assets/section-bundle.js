"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkshopify_base_2_0"] = self["webpackChunkshopify_base_2_0"] || []).push([["section-bundle"],{

/***/ "./src/modules/bundle/bundle.js":
/*!**************************************!*\
  !*** ./src/modules/bundle/bundle.js ***!
  \**************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _bundle_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./bundle.css */ \"./src/modules/bundle/bundle.css\");\n\n\n// $(document).ready(function() {\n//     console.log('ready')\n//       $.ajax({\n//         type: \"POST\",\n//         url: '/cart/clear.js',\n//         success: function(){\n//           console.log('I cleared the cart!');\n//         },\n//         dataType: 'json'\n//     });\n// });\n\nconst tabs = document.querySelectorAll('.section-bundle__collection-tab');\ntabs.forEach(tab => {\n  tab.addEventListener('click', () => {\n    setActive(tab);\n    showPanel(tab);\n  });\n});\nconst setActive = function (el) {\n  [...el.parentElement.children].forEach(function (sib) {\n    sib.classList.remove('active');\n  });\n  el.classList.add('active');\n};\nconst showPanel = tab => {\n  let tabIndex = tab.getAttribute('data-tab');\n  let panels = document.querySelectorAll('.section-bundle__products-holder');\n  panels.forEach(panel => {\n    const panelIndex = panel.getAttribute('data-panel');\n    if (panelIndex === tabIndex) {\n      panel.classList.add('active');\n    } else {\n      panel.classList.remove('active');\n    }\n  });\n};\n\n//SWIPER FOR BUNDLE CART CAROUSEL\n\nvar swiper = new Swiper('.section-bundle__cart-carousel', {\n  spaceBetween: 8,\n  slidesPerView: 4,\n  slidesPerGroup: 4,\n  breakpoints: {\n    768: {\n      slidesPerView: 6,\n      slidesPerGroup: 6,\n      draggable: false\n    }\n  },\n  navigation: {\n    nextEl: '.section-bundle__cart-carousel .swiper-button-next',\n    prevEl: '.section-bundle__cart-carousel .swiper-button-prev'\n  },\n  scrollbar: {\n    el: '.section-bundle__cart-carousel .swiper-scrollbar',\n    draggable: true\n  }\n});\n\n//TOGGLE BUNDLE\nconst bundleCarousel = document.querySelector('.bundle-wrap');\nconst bundleToggler = document.querySelector('.js-bundle-toggle');\nbundleToggler.addEventListener('click', () => {\n  bundleCarousel.classList.toggle('hide-bundle');\n});\n\n//ADD TO CART LOGIC\nconst bundleAtcButtons = document.querySelectorAll('.js-bundle-atc');\nif (!!bundleAtcButtons.length) {\n  bundleAtcButtons.forEach(atcButton => {\n    atcButton.addEventListener('click', () => {\n      let addItems = [];\n      // atcButton.dataset.quantity = quantity\n      addItems = [{\n        id: atcButton.getAttribute('data-product'),\n        quantity: 1\n      }];\n      const formData = {\n        items: addItems\n      };\n      fetch(window.Shopify.routes.root + 'cart/add.js', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(formData)\n      }).then(response => {\n        console.log(response.status);\n        if (response.status === 200) {\n          console.log(response.status, 'ok');\n          refreshCart();\n        }\n        return response.json();\n      }).catch(error => {\n        console.error('Error:', error);\n      });\n    });\n  });\n}\nasync function getCart() {\n  const result = await fetch(\"/cart.json\");\n  if (result.status === 200) {\n    return result.json();\n  }\n  throw new Error(`Failed to get request, Shopify returned ${result.status} ${result.statusText}`);\n}\nasync function refreshCart() {\n  const cart = await getCart();\n  // console.log(cart, 'cart')\n  // console.log(cart.items, 'cart.items')\n  // console.log(cart.items.reverse(), 'cart.items.reverse()')\n  const bundleItems = document.querySelectorAll('.section-bundle__cart-carousel-item');\n  const bundleHolder = document.querySelector('.js-holder');\n  bundleHolder.innerHTML = '';\n  for (let i = 0; i < 12; i++) {\n    if (cart.items[i]) {\n      let free = '';\n      if (cart.items[i].properties._attribution && cart.items[i].properties._attribution == \"Rebuy Tiered Progress Bar\") {\n        free = \"Free!\";\n      }\n      bundleHolder.innerHTML += `\n        <div class=\"swiper-slide p-[18px]\">\n            <div class=\"section-bundle__cart-carousel-item flex-col\">\n                <div data-product-id=\"${cart.items[i].product_id}\" data-variant-id=\"${cart.items[i].variant_id}\" class=\"js-remove\">X</div>\n                <div class=\"qty-holder\">${cart.items[i].quantity > 1 ? cart.items[i].quantity : ''}</div>\n                <img class=\"\" src=\"${cart.items[i].image}\">\n                <div class=\"free-item\">${free}</div>\n            </div>\n        </div>\n        `;\n    } else {\n      bundleHolder.innerHTML += `\n            <div class=\"swiper-slide\">\n                <div class=\"section-bundle__cart-carousel-item\">\n                    <div class=\"col-quantity__button increase  p dm-sans-normal color-white text-center\">+</div>\n                </div>\n            </div>\n            `;\n    }\n    if (cart.items[i] && document.querySelector('.class-' + cart.items[i].product_id)) {\n      let selector = document.querySelector('.class-' + cart.items[i].product_id);\n      selector.querySelector('.js-qty-number').innerHTML = cart.items[i].quantity;\n      selector.querySelector('.plus').setAttribute('data-quantity', cart.items[i].quantity + 1);\n      selector.querySelector('.minus').setAttribute('data-quantity', cart.items[i].quantity - 1);\n    }\n  }\n  console.log(bundleHolder, 'bundleHolder');\n  console.log(cart, cart.original_total_price / 100, 'cart orginal total price');\n  let itemCount = 0;\n  let giftCount = 0;\n  for (let d = 0; d < cart.items.length; d++) {\n    if (cart.items[d].properties._source != \"Rebuy\") {\n      itemCount += cart.items[d].quantity;\n      giftCount += cart.items[d].final_price * cart.items[d].quantity;\n    }\n  }\n  let currency = cart.currency;\n  if (currency == 'USD') {\n    currency = '$';\n  }\n  if (currency == 'EUR') {\n    currency = '€';\n  }\n  let firstGift = document.querySelector('.gift-tracker-holder').getAttribute('data-first');\n  let secondGift = document.querySelector('.gift-tracker-holder').getAttribute('data-second');\n  console.log(firstGift, secondGift, giftCount, 'saberise');\n  let circle = document.querySelector('.circle-chart__circle');\n  if (giftCount < firstGift) {\n    let currency = cart.currency;\n    if (currency == 'USD') {\n      currency = '$';\n    }\n    if (currency == 'EUR') {\n      currency = '€';\n    }\n    circle.setAttribute('stroke-dashoffset', 1000 - giftCount / firstGift * 540);\n    document.querySelector('.left-to-gift').innerHTML = '<img  class=\"max-w-[50%] mx-auto\" src=\"https://cdn.shopify.com/s/files/1/0071/1727/5191/files/titan_cable_icon_19047dde-e641-4e84-8e65-3685cf41db36.png?v=1702556590\">' + (firstGift - giftCount) / 100 + currency + '<br> MORE!';\n  }\n  if (giftCount > firstGift) {\n    let currency = cart.currency;\n    if (currency == 'USD') {\n      currency = '$';\n    }\n    if (currency == 'EUR') {\n      currency = '€';\n    }\n    circle.setAttribute('stroke-dashoffset', 1000 - giftCount / secondGift * 540);\n    document.querySelector('.left-to-gift').innerHTML = '<img class=\"max-w-[50%] mx-auto\" src=\"https://cdn.shopify.com/s/files/1/0071/1727/5191/files/3_in_1_cable_icon_105861a6-53fe-4485-a59e-4ea02989852a.png?v=1702556590\">' + (secondGift - giftCount) / 100 + currency + '<br> MORE!';\n  }\n  var swiper = new Swiper('.section-bundle__cart-carousel', {\n    spaceBetween: 8,\n    slidesPerView: 4,\n    slidesPerGroup: 4,\n    breakpoints: {\n      768: {\n        slidesPerView: 6,\n        slidesPerGroup: 6,\n        draggable: false\n      }\n    },\n    navigation: {\n      nextEl: '.section-bundle__cart-carousel .swiper-button-next',\n      prevEl: '.section-bundle__cart-carousel .swiper-button-prev'\n    },\n    scrollbar: {\n      el: '.section-bundle__cart-carousel .swiper-scrollbar',\n      draggable: true\n    }\n  });\n  let allQty = document.querySelectorAll('.js-qty-number');\n  let points = document.querySelectorAll('.point');\n  let allLines = document.querySelectorAll('.line');\n  let allNumber = 0;\n  for (let y = 0; y < allQty.length; y++) {\n    allNumber += parseFloat(allQty[y].innerHTML);\n  }\n  points.forEach((point, index) => {\n    point.style.backgroundColor = '#adadad';\n  });\n  allLines.forEach((allLine, index) => {\n    allLine.style.backgroundColor = '#adadad';\n  });\n  for (let z = 0; z < allNumber; z++) {\n    if (points[z]) {\n      points[z].style.backgroundColor = '#60c655';\n    }\n  }\n  let limiter = allNumber * 2 - 1;\n  for (let k = 0; k < limiter; k++) {\n    allLines[k].style.backgroundColor = '#60c655';\n  }\n  setTimeout(() => {\n    document.querySelectorAll('.js-remove').forEach(remove => {\n      remove.addEventListener('click', () => {\n        let itemId = remove.getAttribute('data-variant-id');\n        let productId = remove.getAttribute('data-product-id');\n        fetch(window.Shopify.routes.root + 'cart/change.js', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            id: itemId,\n            quantity: 0\n          })\n        }).then(response => {\n          console.log(response.status);\n          if (response.status === 200) {\n            console.log(response.status, 'okkkk');\n            let selector = document.querySelector('.class-' + productId);\n            selector.querySelector('.js-qty-number').innerHTML = 0;\n            selector.querySelector('.plus').setAttribute('data-quantity', 1);\n            selector.querySelector('.minus').setAttribute('data-quantity', 0);\n            refreshCart();\n          }\n          return response.json();\n        }).catch(error => {\n          console.error('Error:', error);\n        });\n      });\n    });\n  }, 2000);\n  let totalPrice = 0;\n  cart.items.forEach(item => {\n    totalPrice += item.price * item.quantity;\n  });\n  console.log(cart.items);\n  const formattedPrice = currency + (giftCount / 100).toFixed(2);\n  const totalPriceElement = document.querySelector('.section-bundle__sticky-price');\n  totalPriceElement.textContent = formattedPrice;\n  const checkoutButton = document.querySelector('.section-bundle__sticky-checkout a');\n  if (totalPrice === 0) {\n    checkoutButton.setAttribute('disabled', true);\n  } else {\n    checkoutButton.removeAttribute('disabled');\n  }\n  console.log('Refreshed cart');\n}\nlet updateCart = (itemId, q) => {\n  let updateObject = {};\n  let nameKey = itemId;\n  updateObject[nameKey] = q;\n  console.log(updateObject, 'updateObject');\n  jQuery.post('/cart/update.js', {\n    updates: {\n      ...updateObject\n    }\n  });\n};\nconst pluses = document.querySelectorAll('.plus');\nconst minuses = document.querySelectorAll('.minus');\npluses.forEach(pluse => {\n  pluse.addEventListener('click', () => {\n    let itemId = pluse.parentNode.getAttribute('data-item-id');\n    console.log(itemId, 'itemId');\n    let quantity = pluse.getAttribute('data-quantity');\n    let number = pluse.parentNode.querySelector('.js-qty-number');\n    const newValue = parseInt(quantity) + 1;\n    number.innerHTML = quantity;\n    updateCart(itemId, quantity);\n    pluse.setAttribute('data-quantity', newValue);\n    setTimeout(() => {\n      refreshCart();\n    }, 1000);\n  });\n});\nminuses.forEach(minus => {\n  minus.addEventListener('click', () => {\n    let itemId = minus.parentNode.getAttribute('data-item-id');\n    let quantity = minus.getAttribute('data-quantity');\n    let number = minus.parentNode.querySelector('.js-qty-number');\n    const newValue = parseInt(quantity) - 1;\n    number.innerHTML = quantity;\n    updateCart(itemId, quantity);\n    minus.setAttribute('data-quantity', newValue);\n    setTimeout(() => {\n      refreshCart();\n    }, 1000);\n  });\n});\nlet infoTrigers = document.querySelectorAll('.info-icon-trigger');\nlet closeBtn = document.querySelector('.close');\ninfoTrigers.forEach(infoTriger => {\n  infoTriger.addEventListener('click', e => {\n    console.log(e.target, 'this');\n    let infoImage = e.target.getAttribute('data-image');\n    document.querySelector('.info-image').src = infoImage;\n    document.querySelector('.product-overlay').classList.add('show');\n    document.querySelector('body').classList.add('no-scroll');\n    document.querySelector('html').classList.add('no-scroll');\n  });\n});\ncloseBtn.addEventListener('click', e => {\n  document.querySelector('.product-overlay').classList.remove('show');\n  document.querySelector('body').classList.remove('no-scroll');\n  document.querySelector('html').classList.remove('no-scroll');\n});\nrefreshCart();\nconst formatCurrency = document.querySelector('.js-format-currency').value;\nconst priceFormatterHandler = price => {\n  const formatter = new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency: formatCurrency,\n    minimumFractionDigits: 0,\n    maximumFractionDigits: 0\n  });\n  return formatter.format(price / 100);\n};\nconst distanceTracker = $('.bundle-wrap').offset().top;\n$(window).scroll(function () {\n  const top_of_element = $('#shopify-section-footer').offset().top;\n  const bottom_of_element = $('#shopify-section-footer').offset().top + $('#shopify-section-footer').outerHeight();\n  const bottom_of_screen = $(window).scrollTop() + $(window).innerHeight();\n  const top_of_screen = $(window).scrollTop();\n  if (!(bottom_of_screen > top_of_element) && top_of_screen < bottom_of_element && $(this).scrollTop() >= distanceTracker) {\n    $('.section-bundle__tracker').addClass('tracker-fixed');\n  } else {\n    $('.section-bundle__tracker').removeClass('tracker-fixed');\n  }\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbW9kdWxlcy9idW5kbGUvYnVuZGxlLmpzIiwibWFwcGluZ3MiOiI7O0FBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zaG9waWZ5LWJhc2UtMi4wLy4vc3JjL21vZHVsZXMvYnVuZGxlL2J1bmRsZS5qcz8xNWYxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAnLi9idW5kbGUuY3NzJ1xuXG4vLyAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcbi8vICAgICBjb25zb2xlLmxvZygncmVhZHknKVxuLy8gICAgICAgJC5hamF4KHtcbi8vICAgICAgICAgdHlwZTogXCJQT1NUXCIsXG4vLyAgICAgICAgIHVybDogJy9jYXJ0L2NsZWFyLmpzJyxcbi8vICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oKXtcbi8vICAgICAgICAgICBjb25zb2xlLmxvZygnSSBjbGVhcmVkIHRoZSBjYXJ0IScpO1xuLy8gICAgICAgICB9LFxuLy8gICAgICAgICBkYXRhVHlwZTogJ2pzb24nXG4vLyAgICAgfSk7XG4vLyB9KTtcblxuY29uc3QgdGFicyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zZWN0aW9uLWJ1bmRsZV9fY29sbGVjdGlvbi10YWInKTtcblxudGFicy5mb3JFYWNoKHRhYiA9PiB7XG4gICAgdGFiLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBzZXRBY3RpdmUodGFiKTtcbiAgICAgICAgc2hvd1BhbmVsKHRhYik7XG4gICAgfSk7XG59KTtcblxuY29uc3Qgc2V0QWN0aXZlID0gZnVuY3Rpb24gKGVsKSB7XG4gICAgWy4uLmVsLnBhcmVudEVsZW1lbnQuY2hpbGRyZW5dLmZvckVhY2goZnVuY3Rpb24gKHNpYikge1xuICAgICAgICBzaWIuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgfSk7XG4gICAgZWwuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG59O1xuXG5jb25zdCBzaG93UGFuZWwgPSAodGFiKSA9PiB7XG4gICAgbGV0IHRhYkluZGV4ID0gdGFiLmdldEF0dHJpYnV0ZSgnZGF0YS10YWInKTtcbiAgICBsZXQgcGFuZWxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNlY3Rpb24tYnVuZGxlX19wcm9kdWN0cy1ob2xkZXInKTtcblxuICAgIHBhbmVscy5mb3JFYWNoKHBhbmVsID0+IHtcbiAgICAgICAgY29uc3QgcGFuZWxJbmRleCA9IHBhbmVsLmdldEF0dHJpYnV0ZSgnZGF0YS1wYW5lbCcpO1xuICAgICAgICBpZiAocGFuZWxJbmRleCA9PT0gdGFiSW5kZXgpIHtcbiAgICAgICAgICAgIHBhbmVsLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFuZWwuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbi8vU1dJUEVSIEZPUiBCVU5ETEUgQ0FSVCBDQVJPVVNFTFxuXG52YXIgc3dpcGVyID0gbmV3IFN3aXBlcignLnNlY3Rpb24tYnVuZGxlX19jYXJ0LWNhcm91c2VsJywge1xuICAgIHNwYWNlQmV0d2VlbjogOCxcbiAgICBzbGlkZXNQZXJWaWV3OiA0LFxuICAgIHNsaWRlc1Blckdyb3VwOiA0LFxuICAgIGJyZWFrcG9pbnRzOiB7XG4gICAgICAgIDc2ODoge1xuICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogNixcbiAgICAgICAgICAgIHNsaWRlc1Blckdyb3VwOiA2LFxuICAgICAgICAgICAgZHJhZ2dhYmxlOiBmYWxzZSxcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIG5hdmlnYXRpb246IHtcbiAgICAgICAgbmV4dEVsOiAnLnNlY3Rpb24tYnVuZGxlX19jYXJ0LWNhcm91c2VsIC5zd2lwZXItYnV0dG9uLW5leHQnLFxuICAgICAgICBwcmV2RWw6ICcuc2VjdGlvbi1idW5kbGVfX2NhcnQtY2Fyb3VzZWwgLnN3aXBlci1idXR0b24tcHJldidcbiAgICB9LFxuICAgIHNjcm9sbGJhcjoge1xuICAgICAgICBlbDogJy5zZWN0aW9uLWJ1bmRsZV9fY2FydC1jYXJvdXNlbCAuc3dpcGVyLXNjcm9sbGJhcicsXG4gICAgICAgIGRyYWdnYWJsZTogdHJ1ZSxcbiAgICB9XG59KTtcblxuLy9UT0dHTEUgQlVORExFXG5jb25zdCBidW5kbGVDYXJvdXNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idW5kbGUtd3JhcCcpO1xuY29uc3QgYnVuZGxlVG9nZ2xlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1idW5kbGUtdG9nZ2xlJyk7XG5cbmJ1bmRsZVRvZ2dsZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgYnVuZGxlQ2Fyb3VzZWwuY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZS1idW5kbGUnKTtcbn0pXG5cbi8vQUREIFRPIENBUlQgTE9HSUNcbmNvbnN0IGJ1bmRsZUF0Y0J1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuanMtYnVuZGxlLWF0YycpO1xuXG5pZiAoISFidW5kbGVBdGNCdXR0b25zLmxlbmd0aCkge1xuICAgIGJ1bmRsZUF0Y0J1dHRvbnMuZm9yRWFjaChhdGNCdXR0b24gPT4ge1xuICAgICAgICBhdGNCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICBsZXQgYWRkSXRlbXMgPSBbXVxuICAgICAgICAgICAgLy8gYXRjQnV0dG9uLmRhdGFzZXQucXVhbnRpdHkgPSBxdWFudGl0eVxuICAgICAgICAgICAgYWRkSXRlbXMgPSBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZDogYXRjQnV0dG9uLmdldEF0dHJpYnV0ZSgnZGF0YS1wcm9kdWN0JyksXG4gICAgICAgICAgICAgICAgICAgIHF1YW50aXR5OiAxXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICAgICAgY29uc3QgZm9ybURhdGEgPSB7XG4gICAgICAgICAgICAgICAgaXRlbXM6IGFkZEl0ZW1zXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmZXRjaCh3aW5kb3cuU2hvcGlmeS5yb3V0ZXMucm9vdCArICdjYXJ0L2FkZC5qcycsIHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGZvcm1EYXRhKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLnN0YXR1cylcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5zdGF0dXMsICdvaycpXG4gICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoQ2FydCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKClcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3I6JywgZXJyb3IpXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICB9KVxufVxuXG5hc3luYyBmdW5jdGlvbiBnZXRDYXJ0KCkge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGZldGNoKFwiL2NhcnQuanNvblwiKTtcbiAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQuanNvbigpO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBnZXQgcmVxdWVzdCwgU2hvcGlmeSByZXR1cm5lZCAke3Jlc3VsdC5zdGF0dXN9ICR7cmVzdWx0LnN0YXR1c1RleHR9YCk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHJlZnJlc2hDYXJ0KCkge1xuICAgIGNvbnN0IGNhcnQgPSBhd2FpdCBnZXRDYXJ0KCk7XG4gICAgLy8gY29uc29sZS5sb2coY2FydCwgJ2NhcnQnKVxuICAgIC8vIGNvbnNvbGUubG9nKGNhcnQuaXRlbXMsICdjYXJ0Lml0ZW1zJylcbiAgICAvLyBjb25zb2xlLmxvZyhjYXJ0Lml0ZW1zLnJldmVyc2UoKSwgJ2NhcnQuaXRlbXMucmV2ZXJzZSgpJylcbiAgICBjb25zdCBidW5kbGVJdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zZWN0aW9uLWJ1bmRsZV9fY2FydC1jYXJvdXNlbC1pdGVtJyk7XG4gICAgY29uc3QgYnVuZGxlSG9sZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLWhvbGRlcicpO1xuICAgIGJ1bmRsZUhvbGRlci5pbm5lckhUTUwgPSAnJztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEyOyBpKyspIHtcbiAgICAgICAgaWYoY2FydC5pdGVtc1tpXSkge1xuICAgICAgICAgICAgbGV0IGZyZWUgPSAnJ1xuICAgICAgICAgICAgaWYoY2FydC5pdGVtc1tpXS5wcm9wZXJ0aWVzLl9hdHRyaWJ1dGlvbiAmJiBjYXJ0Lml0ZW1zW2ldLnByb3BlcnRpZXMuX2F0dHJpYnV0aW9uID09IFwiUmVidXkgVGllcmVkIFByb2dyZXNzIEJhclwiKSB7XG4gICAgICAgICAgICAgICAgZnJlZSA9IFwiRnJlZSFcIlxuICAgICAgICAgICAgfVxuICAgICAgICBidW5kbGVIb2xkZXIuaW5uZXJIVE1MICs9IGBcbiAgICAgICAgPGRpdiBjbGFzcz1cInN3aXBlci1zbGlkZSBwLVsxOHB4XVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNlY3Rpb24tYnVuZGxlX19jYXJ0LWNhcm91c2VsLWl0ZW0gZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGRhdGEtcHJvZHVjdC1pZD1cIiR7Y2FydC5pdGVtc1tpXS5wcm9kdWN0X2lkfVwiIGRhdGEtdmFyaWFudC1pZD1cIiR7Y2FydC5pdGVtc1tpXS52YXJpYW50X2lkfVwiIGNsYXNzPVwianMtcmVtb3ZlXCI+WDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJxdHktaG9sZGVyXCI+JHtjYXJ0Lml0ZW1zW2ldLnF1YW50aXR5ID4gMSA/IGNhcnQuaXRlbXNbaV0ucXVhbnRpdHkgOiAnJ308L2Rpdj5cbiAgICAgICAgICAgICAgICA8aW1nIGNsYXNzPVwiXCIgc3JjPVwiJHtjYXJ0Lml0ZW1zW2ldLmltYWdlfVwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmcmVlLWl0ZW1cIj4ke2ZyZWV9PC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIGB9IGVsc2Uge1xuICAgICAgICAgICAgYnVuZGxlSG9sZGVyLmlubmVySFRNTCArPSBgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3dpcGVyLXNsaWRlXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNlY3Rpb24tYnVuZGxlX19jYXJ0LWNhcm91c2VsLWl0ZW1cIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1xdWFudGl0eV9fYnV0dG9uIGluY3JlYXNlICBwIGRtLXNhbnMtbm9ybWFsIGNvbG9yLXdoaXRlIHRleHQtY2VudGVyXCI+KzwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBgXG4gICAgICAgIH1cbiAgICAgICAgaWYoY2FydC5pdGVtc1tpXSAmJiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2xhc3MtJyArIGNhcnQuaXRlbXNbaV0ucHJvZHVjdF9pZCkpIHtcbiAgICAgICAgICAgIGxldCBzZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jbGFzcy0nICsgY2FydC5pdGVtc1tpXS5wcm9kdWN0X2lkKVxuICAgICAgICAgICAgc2VsZWN0b3IucXVlcnlTZWxlY3RvcignLmpzLXF0eS1udW1iZXInKS5pbm5lckhUTUwgPSBjYXJ0Lml0ZW1zW2ldLnF1YW50aXR5O1xuICAgICAgICAgICAgc2VsZWN0b3IucXVlcnlTZWxlY3RvcignLnBsdXMnKS5zZXRBdHRyaWJ1dGUoJ2RhdGEtcXVhbnRpdHknLCBjYXJ0Lml0ZW1zW2ldLnF1YW50aXR5ICsgMSk7XG4gICAgICAgICAgICBzZWxlY3Rvci5xdWVyeVNlbGVjdG9yKCcubWludXMnKS5zZXRBdHRyaWJ1dGUoJ2RhdGEtcXVhbnRpdHknLCBjYXJ0Lml0ZW1zW2ldLnF1YW50aXR5IC0xICk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc29sZS5sb2coYnVuZGxlSG9sZGVyLCAnYnVuZGxlSG9sZGVyJylcbiAgICBjb25zb2xlLmxvZyhjYXJ0LCBjYXJ0Lm9yaWdpbmFsX3RvdGFsX3ByaWNlIC8gMTAwLCAnY2FydCBvcmdpbmFsIHRvdGFsIHByaWNlJylcbiAgICBsZXQgaXRlbUNvdW50ID0gMDtcbiAgICBsZXQgZ2lmdENvdW50ID0gMDtcbiAgICBmb3IgKGxldCBkID0gMDsgZCA8IGNhcnQuaXRlbXMubGVuZ3RoOyBkKyspIHtcbiAgICAgICAgaWYoY2FydC5pdGVtc1tkXS5wcm9wZXJ0aWVzLl9zb3VyY2UgIT0gXCJSZWJ1eVwiKSB7XG4gICAgICAgICAgICBpdGVtQ291bnQgKz0gY2FydC5pdGVtc1tkXS5xdWFudGl0eVxuICAgICAgICAgICAgZ2lmdENvdW50ICs9IChjYXJ0Lml0ZW1zW2RdLmZpbmFsX3ByaWNlICogY2FydC5pdGVtc1tkXS5xdWFudGl0eSlcbiAgICAgICAgfVxuICAgIH1cbiAgICBsZXQgY3VycmVuY3kgPSBjYXJ0LmN1cnJlbmN5O1xuICAgIGlmKGN1cnJlbmN5ID09ICdVU0QnKSB7XG4gICAgICAgIGN1cnJlbmN5ID0gJyQnXG4gICAgfVxuICAgIGlmKGN1cnJlbmN5ID09ICdFVVInKSB7XG4gICAgICAgIGN1cnJlbmN5ID0gJ+KCrCdcbiAgICB9XG5cbiAgICBsZXQgZmlyc3RHaWZ0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmdpZnQtdHJhY2tlci1ob2xkZXInKS5nZXRBdHRyaWJ1dGUoJ2RhdGEtZmlyc3QnKTtcbiAgICBsZXQgc2Vjb25kR2lmdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5naWZ0LXRyYWNrZXItaG9sZGVyJykuZ2V0QXR0cmlidXRlKCdkYXRhLXNlY29uZCcpO1xuXG4gICAgY29uc29sZS5sb2coZmlyc3RHaWZ0LCBzZWNvbmRHaWZ0LCBnaWZ0Q291bnQgLCAnc2FiZXJpc2UnKVxuXG4gICAgbGV0IGNpcmNsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaXJjbGUtY2hhcnRfX2NpcmNsZScpXG5cblxuICAgIGlmKGdpZnRDb3VudCA8IGZpcnN0R2lmdCkge1xuICAgICAgICBsZXQgY3VycmVuY3kgPSBjYXJ0LmN1cnJlbmN5O1xuICAgICAgICBpZihjdXJyZW5jeSA9PSAnVVNEJykge1xuICAgICAgICAgICAgY3VycmVuY3kgPSAnJCdcbiAgICAgICAgfVxuICAgICAgICBpZihjdXJyZW5jeSA9PSAnRVVSJykge1xuICAgICAgICAgICAgY3VycmVuY3kgPSAn4oKsJ1xuICAgICAgICB9XG4gICAgICAgIGNpcmNsZS5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS1kYXNob2Zmc2V0JywgMTAwMCAtIChnaWZ0Q291bnQvZmlyc3RHaWZ0KSo1NDApO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubGVmdC10by1naWZ0JykuaW5uZXJIVE1MID0nPGltZyAgY2xhc3M9XCJtYXgtdy1bNTAlXSBteC1hdXRvXCIgc3JjPVwiaHR0cHM6Ly9jZG4uc2hvcGlmeS5jb20vcy9maWxlcy8xLzAwNzEvMTcyNy81MTkxL2ZpbGVzL3RpdGFuX2NhYmxlX2ljb25fMTkwNDdkZGUtZTY0MS00ZTg0LThlNjUtMzY4NWNmNDFkYjM2LnBuZz92PTE3MDI1NTY1OTBcIj4nICsgKChmaXJzdEdpZnQgLSBnaWZ0Q291bnQpLzEwMCkgKyBjdXJyZW5jeSArICc8YnI+IE1PUkUhJztcbiAgICB9XG4gICAgaWYoZ2lmdENvdW50ID4gZmlyc3RHaWZ0KSB7XG4gICAgICAgIGxldCBjdXJyZW5jeSA9IGNhcnQuY3VycmVuY3k7XG4gICAgICAgIGlmKGN1cnJlbmN5ID09ICdVU0QnKSB7XG4gICAgICAgICAgICBjdXJyZW5jeSA9ICckJ1xuICAgICAgICB9XG4gICAgICAgIGlmKGN1cnJlbmN5ID09ICdFVVInKSB7XG4gICAgICAgICAgICBjdXJyZW5jeSA9ICfigqwnXG4gICAgICAgIH1cbiAgICAgICAgY2lyY2xlLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLWRhc2hvZmZzZXQnLCAxMDAwIC0gKGdpZnRDb3VudC9zZWNvbmRHaWZ0KSo1NDApO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubGVmdC10by1naWZ0JykuaW5uZXJIVE1MID0nPGltZyBjbGFzcz1cIm1heC13LVs1MCVdIG14LWF1dG9cIiBzcmM9XCJodHRwczovL2Nkbi5zaG9waWZ5LmNvbS9zL2ZpbGVzLzEvMDA3MS8xNzI3LzUxOTEvZmlsZXMvM19pbl8xX2NhYmxlX2ljb25fMTA1ODYxYTYtNTNmZS00NDg1LWE1OWUtNGVhMDI5ODk4NTJhLnBuZz92PTE3MDI1NTY1OTBcIj4nICsoKHNlY29uZEdpZnQgLSBnaWZ0Q291bnQpLzEwMCkgKyBjdXJyZW5jeSArICAnPGJyPiBNT1JFISc7ICAgIH1cblxuICAgIHZhciBzd2lwZXIgPSBuZXcgU3dpcGVyKCcuc2VjdGlvbi1idW5kbGVfX2NhcnQtY2Fyb3VzZWwnLCB7XG4gICAgICAgIHNwYWNlQmV0d2VlbjogOCxcbiAgICAgICAgc2xpZGVzUGVyVmlldzogNCxcbiAgICAgICAgc2xpZGVzUGVyR3JvdXA6IDQsXG4gICAgICAgIGJyZWFrcG9pbnRzOiB7XG4gICAgICAgICAgICA3Njg6IHtcbiAgICAgICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiA2LFxuICAgICAgICAgICAgICAgIHNsaWRlc1Blckdyb3VwOiA2LFxuICAgICAgICAgICAgICAgIGRyYWdnYWJsZTogZmFsc2UsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBuYXZpZ2F0aW9uOiB7XG4gICAgICAgICAgICBuZXh0RWw6ICcuc2VjdGlvbi1idW5kbGVfX2NhcnQtY2Fyb3VzZWwgLnN3aXBlci1idXR0b24tbmV4dCcsXG4gICAgICAgICAgICBwcmV2RWw6ICcuc2VjdGlvbi1idW5kbGVfX2NhcnQtY2Fyb3VzZWwgLnN3aXBlci1idXR0b24tcHJldidcbiAgICAgICAgfSxcbiAgICAgICAgc2Nyb2xsYmFyOiB7XG4gICAgICAgICAgICBlbDogJy5zZWN0aW9uLWJ1bmRsZV9fY2FydC1jYXJvdXNlbCAuc3dpcGVyLXNjcm9sbGJhcicsXG4gICAgICAgICAgICBkcmFnZ2FibGU6IHRydWUsXG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBsZXQgYWxsUXR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmpzLXF0eS1udW1iZXInKTtcbiAgICBsZXQgcG9pbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBvaW50Jyk7XG4gICAgbGV0IGFsbExpbmVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmxpbmUnKTtcbiAgICBsZXQgYWxsTnVtYmVyID0gMDtcbiAgICBmb3IgKGxldCB5ID0gMDsgeSA8IGFsbFF0eS5sZW5ndGg7IHkrKykge1xuICAgICAgICBhbGxOdW1iZXIgKz0gcGFyc2VGbG9hdChhbGxRdHlbeV0uaW5uZXJIVE1MKTtcbiAgICB9XG4gICAgcG9pbnRzLmZvckVhY2goKHBvaW50LCBpbmRleCkgPT4ge1xuICAgICAgICBwb2ludC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnI2FkYWRhZCdcbiAgICB9KVxuICAgIGFsbExpbmVzLmZvckVhY2goKGFsbExpbmUsIGluZGV4KSA9PiB7XG4gICAgICAgIGFsbExpbmUuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyNhZGFkYWQnXG4gICAgfSlcbiAgICBmb3IgKGxldCB6ID0gMDsgeiA8IGFsbE51bWJlcjsgeisrKSB7XG4gICAgICAgIGlmKHBvaW50c1t6XSkge1xuICAgICAgICAgICAgcG9pbnRzW3pdLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjNjBjNjU1JztcbiAgICAgICAgfVxuICAgIH1cbiAgICBsZXQgbGltaXRlciA9IGFsbE51bWJlciAqIDIgLSAxO1xuICAgIGZvciAobGV0IGsgPSAwOyBrIDwgbGltaXRlcjsgaysrKSB7XG4gICAgICAgIGFsbExpbmVzW2tdLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjNjBjNjU1JztcbiAgICB9XG5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmpzLXJlbW92ZScpLmZvckVhY2goKHJlbW92ZSkgPT4ge1xuICAgICAgICAgICAgcmVtb3ZlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBpdGVtSWQgPSByZW1vdmUuZ2V0QXR0cmlidXRlKCdkYXRhLXZhcmlhbnQtaWQnKTtcbiAgICAgICAgICAgICAgICBsZXQgcHJvZHVjdElkID0gcmVtb3ZlLmdldEF0dHJpYnV0ZSgnZGF0YS1wcm9kdWN0LWlkJyk7XG4gICAgICAgICAgICAgICAgZmV0Y2god2luZG93LlNob3BpZnkucm91dGVzLnJvb3QgKyAnY2FydC9jaGFuZ2UuanMnLCB7XG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpdGVtSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBxdWFudGl0eTogMFxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLnN0YXR1cylcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLnN0YXR1cywgJ29ra2trJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgc2VsZWN0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2xhc3MtJyArIHByb2R1Y3RJZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Rvci5xdWVyeVNlbGVjdG9yKCcuanMtcXR5LW51bWJlcicpLmlubmVySFRNTCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3IucXVlcnlTZWxlY3RvcignLnBsdXMnKS5zZXRBdHRyaWJ1dGUoJ2RhdGEtcXVhbnRpdHknLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Rvci5xdWVyeVNlbGVjdG9yKCcubWludXMnKS5zZXRBdHRyaWJ1dGUoJ2RhdGEtcXVhbnRpdHknLCAwICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaENhcnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKClcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3I6JywgZXJyb3IpXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH0sIDIwMDApXG4gICAgbGV0IHRvdGFsUHJpY2UgPSAwO1xuXG4gICAgY2FydC5pdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICB0b3RhbFByaWNlICs9IGl0ZW0ucHJpY2UgKiBpdGVtLnF1YW50aXR5O1xuICAgIH0pO1xuXG4gICAgY29uc29sZS5sb2coY2FydC5pdGVtcyk7XG5cbiAgICBjb25zdCBmb3JtYXR0ZWRQcmljZSA9IGN1cnJlbmN5ICsgKGdpZnRDb3VudC8xMDApLnRvRml4ZWQoMik7XG5cbiAgICBjb25zdCB0b3RhbFByaWNlRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWN0aW9uLWJ1bmRsZV9fc3RpY2t5LXByaWNlJyk7XG4gICAgdG90YWxQcmljZUVsZW1lbnQudGV4dENvbnRlbnQgPSBmb3JtYXR0ZWRQcmljZTtcblxuICAgIGNvbnN0IGNoZWNrb3V0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlY3Rpb24tYnVuZGxlX19zdGlja3ktY2hlY2tvdXQgYScpO1xuICAgIGlmICh0b3RhbFByaWNlID09PSAwKSB7XG4gICAgICAgIGNoZWNrb3V0QnV0dG9uLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCB0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBjaGVja291dEJ1dHRvbi5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKCdSZWZyZXNoZWQgY2FydCcpO1xufVxuXG5sZXQgdXBkYXRlQ2FydCA9IChpdGVtSWQsIHEpID0+IHtcbiAgICBsZXQgdXBkYXRlT2JqZWN0ID0ge307XG4gICAgbGV0IG5hbWVLZXkgPSBpdGVtSWRcbiAgICB1cGRhdGVPYmplY3RbbmFtZUtleV0gPSBxO1xuICAgIGNvbnNvbGUubG9nKHVwZGF0ZU9iamVjdCwgJ3VwZGF0ZU9iamVjdCcpXG4gICAgalF1ZXJ5LnBvc3QoJy9jYXJ0L3VwZGF0ZS5qcycsIHt1cGRhdGVzOnsuLi51cGRhdGVPYmplY3R9fSk7XG59XG5jb25zdCBwbHVzZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucGx1cycpXG5jb25zdCBtaW51c2VzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm1pbnVzJylcblxucGx1c2VzLmZvckVhY2goKHBsdXNlKSA9PiB7XG4gICAgcGx1c2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGxldCBpdGVtSWQgPSBwbHVzZS5wYXJlbnROb2RlLmdldEF0dHJpYnV0ZSgnZGF0YS1pdGVtLWlkJyk7XG4gICAgICAgIGNvbnNvbGUubG9nKGl0ZW1JZCwgJ2l0ZW1JZCcpXG4gICAgICAgIGxldCBxdWFudGl0eSA9IHBsdXNlLmdldEF0dHJpYnV0ZSgnZGF0YS1xdWFudGl0eScpO1xuICAgICAgICBsZXQgbnVtYmVyID0gcGx1c2UucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKCcuanMtcXR5LW51bWJlcicpXG4gICAgICAgIGNvbnN0IG5ld1ZhbHVlID0gcGFyc2VJbnQocXVhbnRpdHkpICsgMVxuICAgICAgICBudW1iZXIuaW5uZXJIVE1MID0gcXVhbnRpdHlcbiAgICAgICAgdXBkYXRlQ2FydChpdGVtSWQsIHF1YW50aXR5KTtcbiAgICAgICAgcGx1c2Uuc2V0QXR0cmlidXRlKCdkYXRhLXF1YW50aXR5JywgbmV3VmFsdWUpXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgcmVmcmVzaENhcnQoKTtcbiAgICAgICAgfSwgMTAwMClcbiAgICB9KVxufSlcblxubWludXNlcy5mb3JFYWNoKChtaW51cykgPT4ge1xuICAgIG1pbnVzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBsZXQgaXRlbUlkID0gbWludXMucGFyZW50Tm9kZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtaXRlbS1pZCcpO1xuICAgICAgICBsZXQgcXVhbnRpdHkgPSBtaW51cy5nZXRBdHRyaWJ1dGUoJ2RhdGEtcXVhbnRpdHknKTtcbiAgICAgICAgbGV0IG51bWJlciA9IG1pbnVzLnBhcmVudE5vZGUucXVlcnlTZWxlY3RvcignLmpzLXF0eS1udW1iZXInKVxuICAgICAgICBjb25zdCBuZXdWYWx1ZSA9IHBhcnNlSW50KHF1YW50aXR5KSAtIDFcbiAgICAgICAgbnVtYmVyLmlubmVySFRNTCA9IHF1YW50aXR5XG4gICAgICAgIHVwZGF0ZUNhcnQoaXRlbUlkLCBxdWFudGl0eSk7XG4gICAgICAgIG1pbnVzLnNldEF0dHJpYnV0ZSgnZGF0YS1xdWFudGl0eScsIG5ld1ZhbHVlKVxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHJlZnJlc2hDYXJ0KCk7XG4gICAgICAgIH0sIDEwMDApXG4gICAgfSlcbn0pXG5cbmxldCBpbmZvVHJpZ2VycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5pbmZvLWljb24tdHJpZ2dlcicpO1xubGV0IGNsb3NlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNsb3NlJyk7XG5pbmZvVHJpZ2Vycy5mb3JFYWNoKChpbmZvVHJpZ2VyKSA9PiB7XG4gICAgaW5mb1RyaWdlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGUudGFyZ2V0LCAndGhpcycpXG4gICAgICAgIGxldCBpbmZvSW1hZ2UgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtaW1hZ2UnKTtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmluZm8taW1hZ2UnKS5zcmMgPSBpbmZvSW1hZ2U7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9kdWN0LW92ZXJsYXknKS5jbGFzc0xpc3QuYWRkKCdzaG93Jyk7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKS5jbGFzc0xpc3QuYWRkKCduby1zY3JvbGwnKVxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdodG1sJykuY2xhc3NMaXN0LmFkZCgnbm8tc2Nyb2xsJylcbiAgICB9KVxufSlcbmNsb3NlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZHVjdC1vdmVybGF5JykuY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKS5jbGFzc0xpc3QucmVtb3ZlKCduby1zY3JvbGwnKVxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2h0bWwnKS5jbGFzc0xpc3QucmVtb3ZlKCduby1zY3JvbGwnKVxufSlcblxucmVmcmVzaENhcnQoKTtcblxuY29uc3QgZm9ybWF0Q3VycmVuY3kgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtZm9ybWF0LWN1cnJlbmN5JykudmFsdWU7XG5cbmNvbnN0IHByaWNlRm9ybWF0dGVySGFuZGxlciA9IChwcmljZSkgPT4ge1xuICAgIGNvbnN0IGZvcm1hdHRlciA9IG5ldyBJbnRsLk51bWJlckZvcm1hdCgnZW4tVVMnLCB7XG4gICAgICAgIHN0eWxlOiAnY3VycmVuY3knLFxuICAgICAgICBjdXJyZW5jeTogZm9ybWF0Q3VycmVuY3ksXG4gICAgICAgIG1pbmltdW1GcmFjdGlvbkRpZ2l0czogMCxcbiAgICAgICAgbWF4aW11bUZyYWN0aW9uRGlnaXRzOiAwLFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGZvcm1hdHRlci5mb3JtYXQocHJpY2UgLyAxMDApO1xufTtcblxuXG5jb25zdCBkaXN0YW5jZVRyYWNrZXIgPSAkKCcuYnVuZGxlLXdyYXAnKS5vZmZzZXQoKS50b3BcbiQod2luZG93KS5zY3JvbGwoZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IHRvcF9vZl9lbGVtZW50ID0gJCgnI3Nob3BpZnktc2VjdGlvbi1mb290ZXInKS5vZmZzZXQoKS50b3BcbiAgICBjb25zdCBib3R0b21fb2ZfZWxlbWVudCA9ICQoJyNzaG9waWZ5LXNlY3Rpb24tZm9vdGVyJykub2Zmc2V0KCkudG9wICsgJCgnI3Nob3BpZnktc2VjdGlvbi1mb290ZXInKS5vdXRlckhlaWdodCgpXG4gICAgY29uc3QgYm90dG9tX29mX3NjcmVlbiA9ICQod2luZG93KS5zY3JvbGxUb3AoKSArICQod2luZG93KS5pbm5lckhlaWdodCgpXG4gICAgY29uc3QgdG9wX29mX3NjcmVlbiA9ICQod2luZG93KS5zY3JvbGxUb3AoKVxuICAgIGlmICghKGJvdHRvbV9vZl9zY3JlZW4gPiB0b3Bfb2ZfZWxlbWVudCkgJiYgKHRvcF9vZl9zY3JlZW4gPCBib3R0b21fb2ZfZWxlbWVudCkgJiYgJCh0aGlzKS5zY3JvbGxUb3AoKSA+PSBkaXN0YW5jZVRyYWNrZXIpIHtcbiAgICAgICQoJy5zZWN0aW9uLWJ1bmRsZV9fdHJhY2tlcicpLmFkZENsYXNzKCd0cmFja2VyLWZpeGVkJylcbiAgICB9IGVsc2Uge1xuICAgICAgJCgnLnNlY3Rpb24tYnVuZGxlX190cmFja2VyJykucmVtb3ZlQ2xhc3MoJ3RyYWNrZXItZml4ZWQnKVxuICAgIH1cbn0pXG5cblxuXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/modules/bundle/bundle.js\n");

/***/ }),

/***/ "./src/scripts/entries/section/bundle.js":
/*!***********************************************!*\
  !*** ./src/scripts/entries/section/bundle.js ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var lib_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lib/components */ \"./src/scripts/lib/components.js\");\n/* harmony import */ var modules_bundle_bundle_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! modules/bundle/bundle.js */ \"./src/modules/bundle/bundle.js\");\n\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  (0,lib_components__WEBPACK_IMPORTED_MODULE_0__.initComponent)(modules_bundle_bundle_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], 'Bundle');\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9lbnRyaWVzL3NlY3Rpb24vYnVuZGxlLmpzIiwibWFwcGluZ3MiOiI7OztBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zaG9waWZ5LWJhc2UtMi4wLy4vc3JjL3NjcmlwdHMvZW50cmllcy9zZWN0aW9uL2J1bmRsZS5qcz8xODcwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGluaXRDb21wb25lbnQgfSBmcm9tICdsaWIvY29tcG9uZW50cydcbmltcG9ydCBCdW5kbGUgZnJvbSAnbW9kdWxlcy9idW5kbGUvYnVuZGxlLmpzJ1xuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICBpbml0Q29tcG9uZW50KEJ1bmRsZSwgJ0J1bmRsZScpXG59KVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scripts/entries/section/bundle.js\n");

/***/ }),

/***/ "./src/modules/bundle/bundle.css":
/*!***************************************!*\
  !*** ./src/modules/bundle/bundle.css ***!
  \***************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbW9kdWxlcy9idW5kbGUvYnVuZGxlLmNzcyIsIm1hcHBpbmdzIjoiO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zaG9waWZ5LWJhc2UtMi4wLy4vc3JjL21vZHVsZXMvYnVuZGxlL2J1bmRsZS5jc3M/MGM0YSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCB7fTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/modules/bundle/bundle.css\n");

/***/ })

},
/******/ function(__webpack_require__) { // webpackRuntimeModules
/******/ var __webpack_exec__ = function(moduleId) { return __webpack_require__(__webpack_require__.s = moduleId); }
/******/ __webpack_require__.O(0, ["commons"], function() { return __webpack_exec__("./src/scripts/entries/section/bundle.js"); });
/******/ var __webpack_exports__ = __webpack_require__.O();
/******/ }
]);