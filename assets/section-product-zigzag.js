"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkshopify_base_2_0"] = self["webpackChunkshopify_base_2_0"] || []).push([["section-product-zigzag"],{

/***/ "./src/modules/product-zigzag/product-zigzag.js":
/*!******************************************************!*\
  !*** ./src/modules/product-zigzag/product-zigzag.js ***!
  \******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _product_zigzag_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./product-zigzag.css */ \"./src/modules/product-zigzag/product-zigzag.css\");\n/* eslint-disable */\n\nvar variantSelectorSFirst = document.querySelectorAll(\".zig-variant-selector-1\");\nvar variantSelectorSSecond = document.querySelectorAll(\".zig-variant-selector-2\");\nvariantSelectorSFirst.forEach(variantSelectorFirst => {\n  variantSelectorFirst.addEventListener(\"change\", function (e) {\n    let _this = e;\n    let variantId = this.value;\n    let nameFirst = variantId;\n    let selectedName;\n    let nameSecond = \"start\";\n    if (this.closest('.product-zigzag-section').querySelector(\".zig-variant-selector-2\")) {\n      nameSecond = this.closest('.product-zigzag-section').querySelector(\".zig-variant-selector-2\").options[this.closest('.product-zigzag-section').querySelector(\".zig-variant-selector-2\").selectedIndex].text;\n    }\n    if (nameSecond !== \"start\") {\n      selectedName = nameFirst + \" / \" + nameSecond;\n    } else {\n      selectedName = nameFirst;\n    }\n    console.log(selectedName, \"selectedName\");\n    let productId = this.closest('.product-zigzag-section').querySelector(\"[data-title='\" + selectedName + \"']\").getAttribute(\"data-variant\");\n    this.closest('.product-zigzag-section').querySelector('.js-add-to-cart-zig').setAttribute(\"data-product\", productId);\n    console.log(productId, \"productId\");\n  });\n});\nvariantSelectorSSecond.forEach(variantSelectorSecond => {\n  variantSelectorSecond.addEventListener(\"change\", function (e) {\n    let variantId = this.value;\n    let nameSecond = variantId;\n    let nameFirst = this.closest('.product-zigzag-section').querySelector(\".zig-variant-selector-1\").options[this.closest('.product-zigzag-section').querySelector(\".zig-variant-selector-1\").selectedIndex].text;\n    let selectedName = nameFirst + \" / \" + nameSecond;\n    console.log(selectedName, \"selectedName\");\n    let productId = this.parentNode.parentNode.parentNode.querySelector(\"[data-title='\" + selectedName + \"']\").getAttribute(\"data-variant\");\n    console.log(productId, \"productId\");\n    this.closest('.product-zigzag-section').querySelector(\".js-add-to-cart-zig\").setAttribute(\"data-product\", productId);\n    let productPrice = this.closest('.product-zigzag-section').querySelector(\"[data-title='\" + selectedName + \"']\").getAttribute(\"data-price\");\n    console.log(productPrice, \"productPrice\");\n    let productPriceNoFormat = this.closest('.product-zigzag-section').querySelector(\"[data-title='\" + selectedName + \"']\").getAttribute(\"data-price-noformat\");\n    let productComparePrice = this.closest('.product-zigzag-section').querySelector(\"[data-title='\" + selectedName + \"']\").getAttribute(\"data-compare-price\");\n    let productComparePriceNoFormat = this.closest('.product-zigzag-section').querySelector(\"[data-title='\" + selectedName + \"']\").getAttribute(\"data-price-noformat\");\n    //   this.closest('.b-collection-carousel__product')\n    //     .querySelector(\".js-product-selector\")\n    //     .setAttribute(\"data-product-price\", productPriceNoFormat);\n    //   this.closest('.b-collection-carousel__product')\n    //     .querySelector(\".js-product-selector\")\n    //     .setAttribute(\n    //       \"data-product-compare-price\",\n    //       productComparePriceNoFormat\n    //     );\n    // window.selectLogic.addon = productId\n    this.closest('.product-zigzag-section').querySelector(\".zig-js-upsel-product-price\").innerHTML = productPrice;\n    this.closest('.product-zigzag-section').querySelector(\".zig-js-price-discount\").innerHTML = productComparePrice;\n    // addUpsell.querySelector('.crossed').innerHTML = productComparePrice;\n    // addUpsell.setAttribute('data-addon-id', productId);\n  });\n});\n\nfunction updatePlaceholders() {\n  console.log('updating placeholders');\n  fetch('/cart.js').then(response => {\n    if (!response.ok) {\n      throw new Error(`HTTP error! Status: ${response.status}`);\n    }\n    return response.json();\n  }).then(cart => {\n    // Example: Display cart items in a div\n    console.log(cart, 'cart');\n    document.querySelector('body').style.overflow = 'auto';\n    const output = document.querySelector('.js-output');\n    const item_count = cart.item_count;\n    const placeholders = document.querySelectorAll('.placeholder');\n    const cartItems = cart.items;\n    placeholders.forEach(placeholder => {\n      placeholder.classList.remove('filled');\n      placeholder.innerHTML = '+';\n    });\n    const giftSelectorsActive = document.querySelectorAll(`.gift_card[data-gift]`);\n    const cartTotal = cart.total_price;\n    // if(giftSelectorsActive) {\n    //     giftSelectorsActive.forEach(gift => {\n    //         gift.classList.remove('is-active')\n    //         gift.querySelector('.gift-overlay').classList.remove('is-active')\n    //         gift.querySelector('.top-note').classList.remove('is-active')\n    //         if(gift.querySelector('.conf')) {\n    //             gift.querySelector('.conf').classList.remove('is-active')\n    //         }\n    //         let giftNumber = gift.getAttribute('data-money')\n    //         if (cartTotal >= giftNumber) {\n    //             gift.classList.add('is-active')\n    //             gift.querySelector('.gift-overlay').classList.add('is-active')\n    //             gift.querySelector('.top-note').classList.add('is-active')\n    //             if(gift.querySelector('.conf')) {\n    //                 gift.querySelector('.conf').classList.add('is-active')\n    //             }\n    //         }\n    //     })\n    // }\n    // Fill placeholders with cart items\n    cartItems.forEach((item, index) => {\n      if (index < placeholders.length) {\n        placeholders[index].classList.add('filled');\n        placeholders[index].innerHTML = `\n                <img src=\"${item.image}\" alt=\"${item.title}\" class=\"w-full h-full object-cover\">\n                <div class=\"absolute bg-black flex items-center justify-center w-[30%] h-[30%] bottom-[5px] right-[5px]\">\n                    <p class=\"text-white text-center\">${item.quantity}</p>\n                </div>\n                <div data-id=\"${item.id}\" class=\"absolute bg-[#c14444] flex items-center justify-center w-[16px] h-[16px] top-[-8px] right-[-8px] js-remove-product cursor-pointer color-white rounded-[50%]\">\n                    x\n                </div>\n            `;\n      } else {\n        document.querySelector('.js-output').innerHTML += `\n            <div class=\"sticky-card-product w-[50px] h-[50px] bg-white flex items-center justify-center placeholder relative\">\n                <img src=\"${item.image}\" alt=\"${item.title}\" class=\"w-full h-full object-cover\">\n                <div class=\"absolute bg-black flex items-center justify-center w-[30%] h-[30%] bottom-[5px] right-[5px]\">\n                    <p class=\"text-white text-center\">${item.quantity}</p>\n                </div>\n                <div data-id=\"${item.id}\" class=\"absolute bg-[#c14444] flex items-center justify-center w-[16px] h-[16px] top-[-8px] right-[-8px] js-remove-product cursor-pointer color-white rounded-[50%]\">\n                    x\n                </div>\n            </div>\n            `;\n      }\n    });\n  }).catch(error => {\n    console.error('Error fetching cart:', error);\n  });\n  console.log('done updating placeholders');\n}\nfunction initializeTrackingBar() {\n  const messageContainer = document.querySelector('[data-tracking-bar-message]');\n  const progressBar = document.querySelector('[data-progress-bar]');\n  const blocks = Array.from(document.querySelectorAll('[data-tracking-bar-blocks] li')).map(block => ({\n    itemCount: parseInt(block.getAttribute('data-item-count'), 10),\n    percentageOff: parseInt(block.getAttribute('data-percentage-off'), 10)\n  }));\n  let cartItemCount = 0;\n  console.log(blocks, 'blocks');\n  function updateTrackingBar() {\n    let currentBlock = null;\n    let nextBlock = null;\n\n    // Determine the current and next discount blocks\n    for (let i = 0; i < blocks.length; i++) {\n      if (cartItemCount >= blocks[i].itemCount) {\n        currentBlock = blocks[i];\n      } else {\n        nextBlock = blocks[i];\n        break;\n      }\n    }\n\n    // Update message and progress bar\n    if (!currentBlock) {\n      // Before the first block\n      const itemsLeft = blocks[0].itemCount - cartItemCount;\n      messageContainer.textContent = `Add ${itemsLeft} more items to save ${blocks[0].percentageOff}%.`;\n      //const progress = (cartItemCount / blocks[0].itemCount) * 100;\n      //progressBar.style.width = `${progress}%`;\n    } else if (!nextBlock) {\n      // Maximum discount reached\n      messageContainer.textContent = `You are at your maximum discount of ${currentBlock.percentageOff}%.`;\n      //progressBar.style.width = '100%';\n    } else {\n      // Between blocks\n      const itemsLeft = nextBlock.itemCount - cartItemCount;\n      messageContainer.textContent = `You get ${currentBlock.percentageOff}% off. Add ${itemsLeft} more items to get ${nextBlock.percentageOff}% off.`;\n      //const progress = ((cartItemCount - currentBlock.itemCount) / (nextBlock.itemCount - currentBlock.itemCount)) * 100;\n      //progressBar.style.width = `${progress}%`;\n    }\n\n    const maxItems = blocks[blocks.length - 1].itemCount;\n    const progress = Math.min(cartItemCount / maxItems * 100, 100); // Cap at 100%\n    progressBar.style.width = `${progress}%`;\n  }\n  function fetchCartCount() {\n    fetch('/cart.js').then(response => response.json()).then(cart => {\n      cartItemCount = cart.item_count;\n      updateTrackingBar();\n    }).catch(error => console.error('Error fetching cart data:', error));\n  }\n\n  // Initial setup\n  fetchCartCount();\n}\nfunction getCartItemCount() {\n  fetch('/cart.js').then(response => response.json()).then(cart => {\n    const itemCount = cart.item_count; // Total number of items in the cart\n    console.log('Cart item count:', itemCount);\n\n    // Use this value to update your tracking bar or any other UI elements\n    initializeTrackingBar(itemCount); // Example: Hook into your tracking bar logic\n  }).catch(error => {\n    console.error('Error fetching cart data:', error);\n  });\n}\nconst upsellProducts = document.querySelectorAll('.upsell-product');\nupsellProducts.forEach(upsellProduct => {\n  upsellProduct.addEventListener('click', e => {\n    let _this = e.currentTarget;\n    _this.classList.toggle('active');\n  });\n});\nconst addToCartsZigs = document.querySelectorAll(\".js-add-to-cart-zig\");\naddToCartsZigs.forEach(addToCartsZig => {\n  addToCartsZig.addEventListener(\"click\", e => {\n    let addItems = [];\n    const _this = e.currentTarget;\n    const parentDiv = _this.closest(\".product-zigzag__content\");\n    const upsellProductSelectors = parentDiv.querySelectorAll(\".js-upsell-selector.active\");\n    let productSelector = _this.getAttribute(\"data-product\");\n    let productSelectorSans = productSelector.replace(/,$/, '');\n    let numbersArray = productSelectorSans.split(\",\").map(Number);\n    console.log(numbersArray);\n    // numbersArray.forEach((productSelector) => {\n    //   addItems.push({\n    //     id: productSelector,\n    //     quantity: 1,\n    //   });\n    // });\n    console.log(addItems, \"addItems\");\n    upsellProductSelectors.forEach(productSelector => {\n      const _this = productSelector;\n      const productId = _this.getAttribute(\"data-product-id\");\n      const productQuantity = _this.getAttribute(\"data-product-qty\");\n      addItems.push({\n        id: productId,\n        quantity: productQuantity\n      });\n    });\n    console.log(addItems, \"addItems\");\n    const formData = {\n      items: addItems\n    };\n    fetch(window.Shopify.routes.root + \"cart/add.js\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(formData)\n    }).then(response => {\n      console.log(response.status, \"ok\");\n      if (response.status === 200) {\n        updatePlaceholders();\n        getCartItemCount();\n      }\n      return response.json();\n    }).catch(error => {\n      console.error(\"Error:\", error);\n    });\n  });\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbW9kdWxlcy9wcm9kdWN0LXppZ3phZy9wcm9kdWN0LXppZ3phZy5qcyIsIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFHQTtBQUdBO0FBQ0E7QUFHQTtBQUdBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBSUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBRUE7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Nob3BpZnktYmFzZS0yLjAvLi9zcmMvbW9kdWxlcy9wcm9kdWN0LXppZ3phZy9wcm9kdWN0LXppZ3phZy5qcz9kZGJhIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgJy4vcHJvZHVjdC16aWd6YWcuY3NzJ1xuXG52YXIgdmFyaWFudFNlbGVjdG9yU0ZpcnN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi56aWctdmFyaWFudC1zZWxlY3Rvci0xXCIpO1xudmFyIHZhcmlhbnRTZWxlY3RvclNTZWNvbmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnppZy12YXJpYW50LXNlbGVjdG9yLTJcIik7XG52YXJpYW50U2VsZWN0b3JTRmlyc3QuZm9yRWFjaCgodmFyaWFudFNlbGVjdG9yRmlyc3QpID0+IHtcbiAgdmFyaWFudFNlbGVjdG9yRmlyc3QuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCBmdW5jdGlvbiAoZSkge1xuICAgIGxldCBfdGhpcyA9IGU7XG4gICAgbGV0IHZhcmlhbnRJZCA9IHRoaXMudmFsdWU7XG4gICAgbGV0IG5hbWVGaXJzdCA9IHZhcmlhbnRJZDtcbiAgICBsZXQgc2VsZWN0ZWROYW1lO1xuICAgIGxldCBuYW1lU2Vjb25kID0gXCJzdGFydFwiXG4gICAgaWYodGhpcy5jbG9zZXN0KCcucHJvZHVjdC16aWd6YWctc2VjdGlvbicpLnF1ZXJ5U2VsZWN0b3IoXCIuemlnLXZhcmlhbnQtc2VsZWN0b3ItMlwiKSkge1xuICAgICAgbmFtZVNlY29uZCA9IHRoaXMuY2xvc2VzdCgnLnByb2R1Y3QtemlnemFnLXNlY3Rpb24nKS5xdWVyeVNlbGVjdG9yKFwiLnppZy12YXJpYW50LXNlbGVjdG9yLTJcIilcbiAgICAgICAgICAub3B0aW9uc1tcbiAgICAgICAgICAgIHRoaXMuY2xvc2VzdCgnLnByb2R1Y3QtemlnemFnLXNlY3Rpb24nKS5xdWVyeVNlbGVjdG9yKFwiLnppZy12YXJpYW50LXNlbGVjdG9yLTJcIikuc2VsZWN0ZWRJbmRleFxuICAgICAgXS50ZXh0O1xuICAgIH1cbiAgICBpZihuYW1lU2Vjb25kICE9PSBcInN0YXJ0XCIpIHtcbiAgICAgIHNlbGVjdGVkTmFtZSA9IG5hbWVGaXJzdCArIFwiIC8gXCIgKyBuYW1lU2Vjb25kO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZWxlY3RlZE5hbWUgPSBuYW1lRmlyc3Q7XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKHNlbGVjdGVkTmFtZSwgXCJzZWxlY3RlZE5hbWVcIik7XG4gICAgbGV0IHByb2R1Y3RJZCA9IHRoaXMuY2xvc2VzdCgnLnByb2R1Y3QtemlnemFnLXNlY3Rpb24nKVxuICAgICAgICAucXVlcnlTZWxlY3RvcihcIltkYXRhLXRpdGxlPSdcIiArIHNlbGVjdGVkTmFtZSArIFwiJ11cIilcbiAgICAgICAgLmdldEF0dHJpYnV0ZShcImRhdGEtdmFyaWFudFwiKTtcbiAgICB0aGlzLmNsb3Nlc3QoJy5wcm9kdWN0LXppZ3phZy1zZWN0aW9uJykucXVlcnlTZWxlY3RvcignLmpzLWFkZC10by1jYXJ0LXppZycpLnNldEF0dHJpYnV0ZShcImRhdGEtcHJvZHVjdFwiLCBwcm9kdWN0SWQpXG4gICAgY29uc29sZS5sb2cocHJvZHVjdElkLCBcInByb2R1Y3RJZFwiKTtcbiAgfSk7XG59KTtcblxudmFyaWFudFNlbGVjdG9yU1NlY29uZC5mb3JFYWNoKCh2YXJpYW50U2VsZWN0b3JTZWNvbmQpID0+IHtcbiAgdmFyaWFudFNlbGVjdG9yU2Vjb25kLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICBsZXQgdmFyaWFudElkID0gdGhpcy52YWx1ZTtcbiAgICBsZXQgbmFtZVNlY29uZCA9IHZhcmlhbnRJZDtcbiAgICBsZXQgbmFtZUZpcnN0ID0gdGhpcy5jbG9zZXN0KCcucHJvZHVjdC16aWd6YWctc2VjdGlvbicpLnF1ZXJ5U2VsZWN0b3IoXCIuemlnLXZhcmlhbnQtc2VsZWN0b3ItMVwiKVxuICAgICAgLm9wdGlvbnNbXG4gICAgICAgIHRoaXMuY2xvc2VzdCgnLnByb2R1Y3QtemlnemFnLXNlY3Rpb24nKS5xdWVyeVNlbGVjdG9yKFwiLnppZy12YXJpYW50LXNlbGVjdG9yLTFcIikuc2VsZWN0ZWRJbmRleFxuICAgIF0udGV4dDtcbiAgICBsZXQgc2VsZWN0ZWROYW1lID0gbmFtZUZpcnN0ICsgXCIgLyBcIiArIG5hbWVTZWNvbmQ7XG4gICAgY29uc29sZS5sb2coc2VsZWN0ZWROYW1lLCBcInNlbGVjdGVkTmFtZVwiKTtcbiAgICBsZXQgcHJvZHVjdElkID0gdGhpcy5wYXJlbnROb2RlLnBhcmVudE5vZGUucGFyZW50Tm9kZVxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCJbZGF0YS10aXRsZT0nXCIgKyBzZWxlY3RlZE5hbWUgKyBcIiddXCIpXG4gICAgICAuZ2V0QXR0cmlidXRlKFwiZGF0YS12YXJpYW50XCIpO1xuICAgIGNvbnNvbGUubG9nKHByb2R1Y3RJZCwgXCJwcm9kdWN0SWRcIik7XG4gICAgdGhpcy5jbG9zZXN0KCcucHJvZHVjdC16aWd6YWctc2VjdGlvbicpXG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5qcy1hZGQtdG8tY2FydC16aWdcIilcbiAgICAgIC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXByb2R1Y3RcIiwgcHJvZHVjdElkKTtcbiAgICBsZXQgcHJvZHVjdFByaWNlID0gdGhpcy5jbG9zZXN0KCcucHJvZHVjdC16aWd6YWctc2VjdGlvbicpXG4gICAgICAucXVlcnlTZWxlY3RvcihcIltkYXRhLXRpdGxlPSdcIiArIHNlbGVjdGVkTmFtZSArIFwiJ11cIilcbiAgICAgIC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXByaWNlXCIpO1xuICAgIGNvbnNvbGUubG9nKHByb2R1Y3RQcmljZSwgXCJwcm9kdWN0UHJpY2VcIilcbiAgICBsZXQgcHJvZHVjdFByaWNlTm9Gb3JtYXQgPSB0aGlzLmNsb3Nlc3QoJy5wcm9kdWN0LXppZ3phZy1zZWN0aW9uJylcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtdGl0bGU9J1wiICsgc2VsZWN0ZWROYW1lICsgXCInXVwiKVxuICAgICAgLmdldEF0dHJpYnV0ZShcImRhdGEtcHJpY2Utbm9mb3JtYXRcIik7XG4gICAgbGV0IHByb2R1Y3RDb21wYXJlUHJpY2UgPSB0aGlzLmNsb3Nlc3QoJy5wcm9kdWN0LXppZ3phZy1zZWN0aW9uJylcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtdGl0bGU9J1wiICsgc2VsZWN0ZWROYW1lICsgXCInXVwiKVxuICAgICAgLmdldEF0dHJpYnV0ZShcImRhdGEtY29tcGFyZS1wcmljZVwiKTtcbiAgICBsZXQgcHJvZHVjdENvbXBhcmVQcmljZU5vRm9ybWF0ID0gdGhpcy5jbG9zZXN0KCcucHJvZHVjdC16aWd6YWctc2VjdGlvbicpXG4gICAgICAucXVlcnlTZWxlY3RvcihcIltkYXRhLXRpdGxlPSdcIiArIHNlbGVjdGVkTmFtZSArIFwiJ11cIilcbiAgICAgIC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXByaWNlLW5vZm9ybWF0XCIpO1xuICAvLyAgIHRoaXMuY2xvc2VzdCgnLmItY29sbGVjdGlvbi1jYXJvdXNlbF9fcHJvZHVjdCcpXG4gIC8vICAgICAucXVlcnlTZWxlY3RvcihcIi5qcy1wcm9kdWN0LXNlbGVjdG9yXCIpXG4gIC8vICAgICAuc2V0QXR0cmlidXRlKFwiZGF0YS1wcm9kdWN0LXByaWNlXCIsIHByb2R1Y3RQcmljZU5vRm9ybWF0KTtcbiAgLy8gICB0aGlzLmNsb3Nlc3QoJy5iLWNvbGxlY3Rpb24tY2Fyb3VzZWxfX3Byb2R1Y3QnKVxuICAvLyAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuanMtcHJvZHVjdC1zZWxlY3RvclwiKVxuICAvLyAgICAgLnNldEF0dHJpYnV0ZShcbiAgLy8gICAgICAgXCJkYXRhLXByb2R1Y3QtY29tcGFyZS1wcmljZVwiLFxuICAvLyAgICAgICBwcm9kdWN0Q29tcGFyZVByaWNlTm9Gb3JtYXRcbiAgLy8gICAgICk7XG4gICAgLy8gd2luZG93LnNlbGVjdExvZ2ljLmFkZG9uID0gcHJvZHVjdElkXG4gICAgdGhpcy5jbG9zZXN0KCcucHJvZHVjdC16aWd6YWctc2VjdGlvbicpLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBcIi56aWctanMtdXBzZWwtcHJvZHVjdC1wcmljZVwiXG4gICAgKS5pbm5lckhUTUwgPSBwcm9kdWN0UHJpY2U7XG4gICAgdGhpcy5jbG9zZXN0KCcucHJvZHVjdC16aWd6YWctc2VjdGlvbicpLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBcIi56aWctanMtcHJpY2UtZGlzY291bnRcIlxuICAgICkuaW5uZXJIVE1MID0gcHJvZHVjdENvbXBhcmVQcmljZTtcbiAgICAvLyBhZGRVcHNlbGwucXVlcnlTZWxlY3RvcignLmNyb3NzZWQnKS5pbm5lckhUTUwgPSBwcm9kdWN0Q29tcGFyZVByaWNlO1xuICAgIC8vIGFkZFVwc2VsbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtYWRkb24taWQnLCBwcm9kdWN0SWQpO1xuICB9KTtcbn0pO1xuZnVuY3Rpb24gdXBkYXRlUGxhY2Vob2xkZXJzKCkge1xuICBjb25zb2xlLmxvZygndXBkYXRpbmcgcGxhY2Vob2xkZXJzJyk7XG4gIGZldGNoKCcvY2FydC5qcycpXG4gICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSFRUUCBlcnJvciEgU3RhdHVzOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIH0pXG4gICAgICAudGhlbihjYXJ0ID0+IHtcbiAgICAgICAgICAvLyBFeGFtcGxlOiBEaXNwbGF5IGNhcnQgaXRlbXMgaW4gYSBkaXZcbiAgICAgICAgICBjb25zb2xlLmxvZyhjYXJ0LCAnY2FydCcpO1xuICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKS5zdHlsZS5vdmVyZmxvdyA9ICdhdXRvJztcbiAgICAgICAgICBjb25zdCBvdXRwdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtb3V0cHV0Jyk7XG4gICAgICAgICAgY29uc3QgaXRlbV9jb3VudCA9IGNhcnQuaXRlbV9jb3VudDtcbiAgICAgICAgICBjb25zdCBwbGFjZWhvbGRlcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucGxhY2Vob2xkZXInKTtcbiAgICAgICAgICBjb25zdCBjYXJ0SXRlbXMgPSBjYXJ0Lml0ZW1zO1xuICAgICAgICAgIHBsYWNlaG9sZGVycy5mb3JFYWNoKHBsYWNlaG9sZGVyID0+IHtcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyLmNsYXNzTGlzdC5yZW1vdmUoJ2ZpbGxlZCcpO1xuICAgICAgICAgICAgcGxhY2Vob2xkZXIuaW5uZXJIVE1MID0gJysnO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnN0IGdpZnRTZWxlY3RvcnNBY3RpdmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGAuZ2lmdF9jYXJkW2RhdGEtZ2lmdF1gKVxuICAgICAgICAgIGNvbnN0IGNhcnRUb3RhbCA9IGNhcnQudG90YWxfcHJpY2VcbiAgICAgICAgICAvLyBpZihnaWZ0U2VsZWN0b3JzQWN0aXZlKSB7XG4gICAgICAgICAgLy8gICAgIGdpZnRTZWxlY3RvcnNBY3RpdmUuZm9yRWFjaChnaWZ0ID0+IHtcbiAgICAgICAgICAvLyAgICAgICAgIGdpZnQuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJylcbiAgICAgICAgICAvLyAgICAgICAgIGdpZnQucXVlcnlTZWxlY3RvcignLmdpZnQtb3ZlcmxheScpLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpXG4gICAgICAgICAgLy8gICAgICAgICBnaWZ0LnF1ZXJ5U2VsZWN0b3IoJy50b3Atbm90ZScpLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpXG4gICAgICAgICAgLy8gICAgICAgICBpZihnaWZ0LnF1ZXJ5U2VsZWN0b3IoJy5jb25mJykpIHtcbiAgICAgICAgICAvLyAgICAgICAgICAgICBnaWZ0LnF1ZXJ5U2VsZWN0b3IoJy5jb25mJykuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJylcbiAgICAgICAgICAvLyAgICAgICAgIH1cbiAgICAgICAgICAvLyAgICAgICAgIGxldCBnaWZ0TnVtYmVyID0gZ2lmdC5nZXRBdHRyaWJ1dGUoJ2RhdGEtbW9uZXknKVxuICAgICAgICAgIC8vICAgICAgICAgaWYgKGNhcnRUb3RhbCA+PSBnaWZ0TnVtYmVyKSB7XG4gICAgICAgICAgLy8gICAgICAgICAgICAgZ2lmdC5jbGFzc0xpc3QuYWRkKCdpcy1hY3RpdmUnKVxuICAgICAgICAgIC8vICAgICAgICAgICAgIGdpZnQucXVlcnlTZWxlY3RvcignLmdpZnQtb3ZlcmxheScpLmNsYXNzTGlzdC5hZGQoJ2lzLWFjdGl2ZScpXG4gICAgICAgICAgLy8gICAgICAgICAgICAgZ2lmdC5xdWVyeVNlbGVjdG9yKCcudG9wLW5vdGUnKS5jbGFzc0xpc3QuYWRkKCdpcy1hY3RpdmUnKVxuICAgICAgICAgIC8vICAgICAgICAgICAgIGlmKGdpZnQucXVlcnlTZWxlY3RvcignLmNvbmYnKSkge1xuICAgICAgICAgIC8vICAgICAgICAgICAgICAgICBnaWZ0LnF1ZXJ5U2VsZWN0b3IoJy5jb25mJykuY2xhc3NMaXN0LmFkZCgnaXMtYWN0aXZlJylcbiAgICAgICAgICAvLyAgICAgICAgICAgICB9XG4gICAgICAgICAgLy8gICAgICAgICB9XG4gICAgICAgICAgLy8gICAgIH0pXG4gICAgICAgICAgLy8gfVxuICAgICAgICAgIC8vIEZpbGwgcGxhY2Vob2xkZXJzIHdpdGggY2FydCBpdGVtc1xuICAgICAgICAgIGNhcnRJdGVtcy5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgICAgIGlmIChpbmRleCA8IHBsYWNlaG9sZGVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyc1tpbmRleF0uY2xhc3NMaXN0LmFkZCgnZmlsbGVkJyk7XG4gICAgICAgICAgICBwbGFjZWhvbGRlcnNbaW5kZXhdLmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgICAgICA8aW1nIHNyYz1cIiR7aXRlbS5pbWFnZX1cIiBhbHQ9XCIke2l0ZW0udGl0bGV9XCIgY2xhc3M9XCJ3LWZ1bGwgaC1mdWxsIG9iamVjdC1jb3ZlclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhYnNvbHV0ZSBiZy1ibGFjayBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB3LVszMCVdIGgtWzMwJV0gYm90dG9tLVs1cHhdIHJpZ2h0LVs1cHhdXCI+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC13aGl0ZSB0ZXh0LWNlbnRlclwiPiR7aXRlbS5xdWFudGl0eX08L3A+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBkYXRhLWlkPVwiJHtpdGVtLmlkfVwiIGNsYXNzPVwiYWJzb2x1dGUgYmctWyNjMTQ0NDRdIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHctWzE2cHhdIGgtWzE2cHhdIHRvcC1bLThweF0gcmlnaHQtWy04cHhdIGpzLXJlbW92ZS1wcm9kdWN0IGN1cnNvci1wb2ludGVyIGNvbG9yLXdoaXRlIHJvdW5kZWQtWzUwJV1cIj5cbiAgICAgICAgICAgICAgICAgICAgeFxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgYDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLW91dHB1dCcpLmlubmVySFRNTCArPSBgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RpY2t5LWNhcmQtcHJvZHVjdCB3LVs1MHB4XSBoLVs1MHB4XSBiZy13aGl0ZSBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBwbGFjZWhvbGRlciByZWxhdGl2ZVwiPlxuICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiJHtpdGVtLmltYWdlfVwiIGFsdD1cIiR7aXRlbS50aXRsZX1cIiBjbGFzcz1cInctZnVsbCBoLWZ1bGwgb2JqZWN0LWNvdmVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFic29sdXRlIGJnLWJsYWNrIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHctWzMwJV0gaC1bMzAlXSBib3R0b20tWzVweF0gcmlnaHQtWzVweF1cIj5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXdoaXRlIHRleHQtY2VudGVyXCI+JHtpdGVtLnF1YW50aXR5fTwvcD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGRhdGEtaWQ9XCIke2l0ZW0uaWR9XCIgY2xhc3M9XCJhYnNvbHV0ZSBiZy1bI2MxNDQ0NF0gZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdy1bMTZweF0gaC1bMTZweF0gdG9wLVstOHB4XSByaWdodC1bLThweF0ganMtcmVtb3ZlLXByb2R1Y3QgY3Vyc29yLXBvaW50ZXIgY29sb3Itd2hpdGUgcm91bmRlZC1bNTAlXVwiPlxuICAgICAgICAgICAgICAgICAgICB4XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIGA7XG4gICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGNhcnQ6JywgZXJyb3IpO1xuICAgICAgfSk7XG4gICAgICBjb25zb2xlLmxvZygnZG9uZSB1cGRhdGluZyBwbGFjZWhvbGRlcnMnKTtcbn1cbmZ1bmN0aW9uIGluaXRpYWxpemVUcmFja2luZ0JhcigpIHtcbiAgY29uc3QgbWVzc2FnZUNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRyYWNraW5nLWJhci1tZXNzYWdlXScpO1xuICBjb25zdCBwcm9ncmVzc0JhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXByb2dyZXNzLWJhcl0nKTtcbiAgY29uc3QgYmxvY2tzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS10cmFja2luZy1iYXItYmxvY2tzXSBsaScpKS5tYXAoKGJsb2NrKSA9PiAoe1xuICAgIGl0ZW1Db3VudDogcGFyc2VJbnQoYmxvY2suZ2V0QXR0cmlidXRlKCdkYXRhLWl0ZW0tY291bnQnKSwgMTApLFxuICAgIHBlcmNlbnRhZ2VPZmY6IHBhcnNlSW50KGJsb2NrLmdldEF0dHJpYnV0ZSgnZGF0YS1wZXJjZW50YWdlLW9mZicpLCAxMCksXG4gIH0pKTtcblxuICBsZXQgY2FydEl0ZW1Db3VudCA9IDA7XG4gIGNvbnNvbGUubG9nKGJsb2NrcywgJ2Jsb2NrcycpO1xuXG5cblxuICBmdW5jdGlvbiB1cGRhdGVUcmFja2luZ0JhcigpIHtcbiAgICBsZXQgY3VycmVudEJsb2NrID0gbnVsbDtcbiAgICBsZXQgbmV4dEJsb2NrID0gbnVsbDtcblxuICAgIC8vIERldGVybWluZSB0aGUgY3VycmVudCBhbmQgbmV4dCBkaXNjb3VudCBibG9ja3NcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJsb2Nrcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGNhcnRJdGVtQ291bnQgPj0gYmxvY2tzW2ldLml0ZW1Db3VudCkge1xuICAgICAgICBjdXJyZW50QmxvY2sgPSBibG9ja3NbaV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXh0QmxvY2sgPSBibG9ja3NbaV07XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFVwZGF0ZSBtZXNzYWdlIGFuZCBwcm9ncmVzcyBiYXJcbiAgICBpZiAoIWN1cnJlbnRCbG9jaykge1xuICAgICAgLy8gQmVmb3JlIHRoZSBmaXJzdCBibG9ja1xuICAgICAgY29uc3QgaXRlbXNMZWZ0ID0gYmxvY2tzWzBdLml0ZW1Db3VudCAtIGNhcnRJdGVtQ291bnQ7XG4gICAgICBtZXNzYWdlQ29udGFpbmVyLnRleHRDb250ZW50ID0gYEFkZCAke2l0ZW1zTGVmdH0gbW9yZSBpdGVtcyB0byBzYXZlICR7YmxvY2tzWzBdLnBlcmNlbnRhZ2VPZmZ9JS5gO1xuICAgICAgLy9jb25zdCBwcm9ncmVzcyA9IChjYXJ0SXRlbUNvdW50IC8gYmxvY2tzWzBdLml0ZW1Db3VudCkgKiAxMDA7XG4gICAgICAvL3Byb2dyZXNzQmFyLnN0eWxlLndpZHRoID0gYCR7cHJvZ3Jlc3N9JWA7XG4gICAgfSBlbHNlIGlmICghbmV4dEJsb2NrKSB7XG4gICAgICAvLyBNYXhpbXVtIGRpc2NvdW50IHJlYWNoZWRcbiAgICAgIG1lc3NhZ2VDb250YWluZXIudGV4dENvbnRlbnQgPSBgWW91IGFyZSBhdCB5b3VyIG1heGltdW0gZGlzY291bnQgb2YgJHtjdXJyZW50QmxvY2sucGVyY2VudGFnZU9mZn0lLmA7XG4gICAgICAvL3Byb2dyZXNzQmFyLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBCZXR3ZWVuIGJsb2Nrc1xuICAgICAgY29uc3QgaXRlbXNMZWZ0ID0gbmV4dEJsb2NrLml0ZW1Db3VudCAtIGNhcnRJdGVtQ291bnQ7XG4gICAgICBtZXNzYWdlQ29udGFpbmVyLnRleHRDb250ZW50ID0gYFlvdSBnZXQgJHtjdXJyZW50QmxvY2sucGVyY2VudGFnZU9mZn0lIG9mZi4gQWRkICR7aXRlbXNMZWZ0fSBtb3JlIGl0ZW1zIHRvIGdldCAke25leHRCbG9jay5wZXJjZW50YWdlT2ZmfSUgb2ZmLmA7XG4gICAgICAvL2NvbnN0IHByb2dyZXNzID0gKChjYXJ0SXRlbUNvdW50IC0gY3VycmVudEJsb2NrLml0ZW1Db3VudCkgLyAobmV4dEJsb2NrLml0ZW1Db3VudCAtIGN1cnJlbnRCbG9jay5pdGVtQ291bnQpKSAqIDEwMDtcbiAgICAgIC8vcHJvZ3Jlc3NCYXIuc3R5bGUud2lkdGggPSBgJHtwcm9ncmVzc30lYDtcbiAgICB9XG4gICAgY29uc3QgbWF4SXRlbXMgPSBibG9ja3NbYmxvY2tzLmxlbmd0aCAtIDFdLml0ZW1Db3VudDtcbiAgICBjb25zdCBwcm9ncmVzcyA9IE1hdGgubWluKChjYXJ0SXRlbUNvdW50IC8gbWF4SXRlbXMpICogMTAwLCAxMDApOyAvLyBDYXAgYXQgMTAwJVxuICAgIHByb2dyZXNzQmFyLnN0eWxlLndpZHRoID0gYCR7cHJvZ3Jlc3N9JWA7XG4gIH1cbiAgZnVuY3Rpb24gZmV0Y2hDYXJ0Q291bnQoKSB7XG4gICAgICBmZXRjaCgnL2NhcnQuanMnKVxuICAgICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpXG4gICAgICAgIC50aGVuKGNhcnQgPT4ge1xuICAgICAgICAgIGNhcnRJdGVtQ291bnQgPSBjYXJ0Lml0ZW1fY291bnQ7XG4gICAgICAgICAgdXBkYXRlVHJhY2tpbmdCYXIoKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGVycm9yID0+IGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGNhcnQgZGF0YTonLCBlcnJvcikpO1xuICAgIH1cblxuXG4gIC8vIEluaXRpYWwgc2V0dXBcbiAgZmV0Y2hDYXJ0Q291bnQoKTtcbn1cbmZ1bmN0aW9uIGdldENhcnRJdGVtQ291bnQoKSB7XG4gIGZldGNoKCcvY2FydC5qcycpXG4gICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKVxuICAgIC50aGVuKGNhcnQgPT4ge1xuICAgICAgY29uc3QgaXRlbUNvdW50ID0gY2FydC5pdGVtX2NvdW50OyAvLyBUb3RhbCBudW1iZXIgb2YgaXRlbXMgaW4gdGhlIGNhcnRcbiAgICAgIGNvbnNvbGUubG9nKCdDYXJ0IGl0ZW0gY291bnQ6JywgaXRlbUNvdW50KTtcblxuICAgICAgLy8gVXNlIHRoaXMgdmFsdWUgdG8gdXBkYXRlIHlvdXIgdHJhY2tpbmcgYmFyIG9yIGFueSBvdGhlciBVSSBlbGVtZW50c1xuICAgICAgaW5pdGlhbGl6ZVRyYWNraW5nQmFyKGl0ZW1Db3VudCk7IC8vIEV4YW1wbGU6IEhvb2sgaW50byB5b3VyIHRyYWNraW5nIGJhciBsb2dpY1xuICAgIH0pXG4gICAgLmNhdGNoKGVycm9yID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGNhcnQgZGF0YTonLCBlcnJvcik7XG4gICAgfSk7XG59XG5cbmNvbnN0IHVwc2VsbFByb2R1Y3RzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnVwc2VsbC1wcm9kdWN0JylcbnVwc2VsbFByb2R1Y3RzLmZvckVhY2goKHVwc2VsbFByb2R1Y3QpID0+IHtcbiAgICB1cHNlbGxQcm9kdWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgbGV0IF90aGlzID0gZS5jdXJyZW50VGFyZ2V0XG4gICAgICAgIF90aGlzLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpXG4gICAgfSlcbn0pXG5cbmNvbnN0IGFkZFRvQ2FydHNaaWdzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5qcy1hZGQtdG8tY2FydC16aWdcIik7XG5cbmFkZFRvQ2FydHNaaWdzLmZvckVhY2goKGFkZFRvQ2FydHNaaWcpID0+IHtcbiAgICBhZGRUb0NhcnRzWmlnLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgICAgbGV0IGFkZEl0ZW1zID0gW107XG4gICAgICBjb25zdCBfdGhpcyA9IGUuY3VycmVudFRhcmdldDtcbiAgICAgIGNvbnN0IHBhcmVudERpdiA9IF90aGlzLmNsb3Nlc3QoXCIucHJvZHVjdC16aWd6YWdfX2NvbnRlbnRcIik7XG4gICAgICBjb25zdCB1cHNlbGxQcm9kdWN0U2VsZWN0b3JzID0gcGFyZW50RGl2LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuanMtdXBzZWxsLXNlbGVjdG9yLmFjdGl2ZVwiKTtcbiAgICAgIGxldCBwcm9kdWN0U2VsZWN0b3IgPSBfdGhpcy5nZXRBdHRyaWJ1dGUoXCJkYXRhLXByb2R1Y3RcIik7XG4gICAgICBsZXQgcHJvZHVjdFNlbGVjdG9yU2FucyA9IHByb2R1Y3RTZWxlY3Rvci5yZXBsYWNlKC8sJC8sICcnKVxuICAgICAgbGV0IG51bWJlcnNBcnJheSA9IHByb2R1Y3RTZWxlY3RvclNhbnMuc3BsaXQoXCIsXCIpLm1hcChOdW1iZXIpO1xuICAgICAgY29uc29sZS5sb2cobnVtYmVyc0FycmF5KTtcbiAgICAgIC8vIG51bWJlcnNBcnJheS5mb3JFYWNoKChwcm9kdWN0U2VsZWN0b3IpID0+IHtcbiAgICAgIC8vICAgYWRkSXRlbXMucHVzaCh7XG4gICAgICAvLyAgICAgaWQ6IHByb2R1Y3RTZWxlY3RvcixcbiAgICAgIC8vICAgICBxdWFudGl0eTogMSxcbiAgICAgIC8vICAgfSk7XG4gICAgICAvLyB9KTtcbiAgICAgIGNvbnNvbGUubG9nKGFkZEl0ZW1zLCBcImFkZEl0ZW1zXCIpO1xuICAgICAgdXBzZWxsUHJvZHVjdFNlbGVjdG9ycy5mb3JFYWNoKChwcm9kdWN0U2VsZWN0b3IpID0+IHtcbiAgICAgICAgY29uc3QgX3RoaXMgPSBwcm9kdWN0U2VsZWN0b3I7XG4gICAgICAgIGNvbnN0IHByb2R1Y3RJZCA9IF90aGlzLmdldEF0dHJpYnV0ZShcImRhdGEtcHJvZHVjdC1pZFwiKTtcbiAgICAgICAgY29uc3QgcHJvZHVjdFF1YW50aXR5ID0gX3RoaXMuZ2V0QXR0cmlidXRlKFwiZGF0YS1wcm9kdWN0LXF0eVwiKTtcbiAgICAgICAgYWRkSXRlbXMucHVzaCh7XG4gICAgICAgICAgaWQ6IHByb2R1Y3RJZCxcbiAgICAgICAgICBxdWFudGl0eTogcHJvZHVjdFF1YW50aXR5LFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgY29uc29sZS5sb2coYWRkSXRlbXMsIFwiYWRkSXRlbXNcIik7XG4gICAgICBjb25zdCBmb3JtRGF0YSA9IHtcbiAgICAgICAgaXRlbXM6IGFkZEl0ZW1zLFxuICAgICAgfTtcbiAgICAgIGZldGNoKHdpbmRvdy5TaG9waWZ5LnJvdXRlcy5yb290ICsgXCJjYXJ0L2FkZC5qc1wiLCB7XG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZm9ybURhdGEpLFxuICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2Uuc3RhdHVzLCBcIm9rXCIpO1xuICAgICAgICAgIGlmKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgICB1cGRhdGVQbGFjZWhvbGRlcnMoKTtcbiAgICAgICAgICAgIGdldENhcnRJdGVtQ291bnQoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvcjpcIiwgZXJyb3IpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfSk7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/modules/product-zigzag/product-zigzag.js\n");

/***/ }),

/***/ "./src/scripts/entries/section/product-zigzag.js":
/*!*******************************************************!*\
  !*** ./src/scripts/entries/section/product-zigzag.js ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var lib_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lib/components */ \"./src/scripts/lib/components.js\");\n/* harmony import */ var modules_product_zigzag_product_zigzag_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! modules/product-zigzag/product-zigzag.js */ \"./src/modules/product-zigzag/product-zigzag.js\");\n\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  (0,lib_components__WEBPACK_IMPORTED_MODULE_0__.initComponent)(modules_product_zigzag_product_zigzag_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], 'ProductZigzag');\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9lbnRyaWVzL3NlY3Rpb24vcHJvZHVjdC16aWd6YWcuanMiLCJtYXBwaW5ncyI6Ijs7O0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Nob3BpZnktYmFzZS0yLjAvLi9zcmMvc2NyaXB0cy9lbnRyaWVzL3NlY3Rpb24vcHJvZHVjdC16aWd6YWcuanM/MDkyYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpbml0Q29tcG9uZW50IH0gZnJvbSAnbGliL2NvbXBvbmVudHMnXG5pbXBvcnQgUHJvZHVjdFppZ3phZyBmcm9tICdtb2R1bGVzL3Byb2R1Y3QtemlnemFnL3Byb2R1Y3QtemlnemFnLmpzJ1xuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICBpbml0Q29tcG9uZW50KFByb2R1Y3RaaWd6YWcsICdQcm9kdWN0WmlnemFnJylcbn0pXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scripts/entries/section/product-zigzag.js\n");

/***/ }),

/***/ "./src/modules/product-zigzag/product-zigzag.css":
/*!*******************************************************!*\
  !*** ./src/modules/product-zigzag/product-zigzag.css ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbW9kdWxlcy9wcm9kdWN0LXppZ3phZy9wcm9kdWN0LXppZ3phZy5jc3MiLCJtYXBwaW5ncyI6IjtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2hvcGlmeS1iYXNlLTIuMC8uL3NyYy9tb2R1bGVzL3Byb2R1Y3QtemlnemFnL3Byb2R1Y3QtemlnemFnLmNzcz9kMWY1Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/modules/product-zigzag/product-zigzag.css\n");

/***/ })

},
/******/ function(__webpack_require__) { // webpackRuntimeModules
/******/ var __webpack_exec__ = function(moduleId) { return __webpack_require__(__webpack_require__.s = moduleId); }
/******/ __webpack_require__.O(0, ["commons"], function() { return __webpack_exec__("./src/scripts/entries/section/product-zigzag.js"); });
/******/ var __webpack_exports__ = __webpack_require__.O();
/******/ }
]);