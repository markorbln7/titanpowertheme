{{ 'section-pdp-hero-master.css' | asset_url | stylesheet_tag }}
{% liquid
    comment
      Section Variables
    endcomment
    assign giftRepeater = section.blocks | where: 'type', 'gift_images'
  %}
  <div class="gift-unlocker max-w-[400px] mx-auto mt-[20px]">
    <div data-gift="titles" class="gift-titles">
      {% for block in giftRepeater %}
          {% assign prHandle = block.settings.money_product %}
          <div data-money="{{ all_products[prHandle].price }}" class="gift_title font-normal font-italic{% if block.settings.product_number_unlocker == '1'  %}is-active{% endif %}" data-gift="{{ block.settings.product_number_unlocker }}">
            <div class="gift-title_text">{{block.settings.pdp_hero_icon_title_top}}
              {% unless block.settings.product_number_unlocker == '1'  %}
                <div class="color-[#60c655] color-titan-green">{{ all_products[prHandle].price | money }}</div>
              {% endunless %}
            </div>
          </div>
      {% endfor %}
    </div>
    <div class="gift-unlocker-wrapper gift-blocks bigger-spacing">
       {% for block in giftRepeater %}
        {% assign prHandle = block.settings.money_product %}
           <div data-money="{{ all_products[prHandle].price }}" class="gift_card {% if block.settings.product_number_unlocker == '1'  %}is-active{% endif %}" data-gift="{{ block.settings.product_number_unlocker }}">
               <div class="gift-overlay {% if block.settings.product_number_unlocker == '1'  %}is-active{% else %}dagag{% endif %}"></div>
               {% if block.settings.product_number_unlocker == '3'  %}
                 <div class="conf">
                   <img width="100" height="auto" src="{{ 'conf.gif' | asset_img_url }}">
                 </div>
               {% endif %}
               <div class="top-note {% if block.settings.product_number_unlocker == '1'  %}is-active{% endif %}">{{ block.settings.top_note }} <div class="crossed">{{ all_products[block.settings.gift_price_product].price | money }}</div></div>
               <img class="gift_image {% if block.settings.product_number_unlocker == '1'  %}is-active{% endif %}" width="100%" height="auto" src="{{ block.settings.pdp_hero_icon | img_url:'master' }}" class="gift_image">
               <div class="gift-locker">
                 <div class="gift-lockings w-embed">
                   <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 18.6 18.6" style="enable-background:new 0 0 18.6 18.6;" xml:space="preserve" width="100%" height="100%">
                   <path fill="CurrentColor" d="M14.6,11c0,0.8,0,1.6,0,2.4c0,0.8-0.3,1.4-0.8,2c-0.8,0.9-1.9,1.4-3.1,1.6c-1.1,0.2-2.3,0.2-3.4-0.1
                   c-0.9-0.3-1.8-0.7-2.5-1.4c-0.6-0.6-1-1.4-0.9-2.3c0-1.5,0-3,0-4.4c0-0.9,0.4-1.5,1.2-1.9c0.1,0,0.1-0.1,0.1-0.2c0-1,0.2-2,0.7-2.9
                   c0.5-0.9,1.1-1.6,2-2c1.2-0.6,2.4-0.4,3.5,0.5c0.8,0.6,1.2,1.4,1.6,2.3c0.3,0.7,0.4,1.4,0.4,2.2c0,0.1,0,0.1,0.1,0.2
                   c0.8,0.4,1.2,1,1.2,1.8C14.6,9.5,14.6,10.3,14.6,11C14.6,11,14.6,11,14.6,11z M9.3,6.7C9.3,6.7,9.3,6.7,9.3,6.7c0.7,0,1.4,0,2,0
                   c0.4,0,0.4,0,0.3-0.4c-0.1-0.8-0.3-1.6-0.8-2.2c-0.5-0.7-1.2-0.9-2-0.8c-0.6,0.1-1,0.5-1.3,1C7.1,5,6.9,5.8,6.9,6.6
                   c0,0.1,0,0.2,0.1,0.2C7.8,6.7,8.5,6.7,9.3,6.7z M9.3,13.8C9.3,13.8,9.3,13.8,9.3,13.8c0.2,0,0.4,0,0.7,0c0.1,0,0.2,0,0.2-0.2
                   c0-0.3,0-0.7,0-1c0-0.1,0-0.2,0.1-0.3c0.9-0.7,0.7-2.2-0.4-2.6c-0.7-0.3-1.5,0-1.9,0.6c-0.4,0.6-0.2,1.5,0.4,1.9
                   c0.1,0.1,0.1,0.1,0.1,0.2c0,0.4,0,0.7,0,1.1c0,0.1,0,0.2,0.1,0.1C8.8,13.8,9,13.8,9.3,13.8z"></path>
                   </svg>
                 </div>
               </div>
           </div>
       {% endfor %}
    </div>
    <div data-gift="titles" class="gift-titles">
     {% for block in giftRepeater %}
         <div data-money="{{ all_products[prHandle].price }}" class="gift_title font-normal font-italic{% if block.settings.product_number_unlocker == '1'  %}is-active{% endif %}" data-gift="{{ block.settings.product_number_unlocker }}">
           <div class="gift-title_text">{{block.settings.pdp_hero_icon_title}}</div>
         </div>
     {% endfor %}
   </div>
 </div>
 {% schema %}
{
    "name": "Gift Display Section",
    "settings": [
      {
        "type": "text",
        "id": "welcome_message",
        "label": "Welcome Message",
        "default": "Welcome to our store!"
      }
    ],
    "blocks": [
        {
            "type": "gift_images",
            "name": "Gift Image",
            "settings": [
              {
                "type": "image_picker",
                "id": "pdp_hero_icon",
                "label": "Gift icon"
              },
              {
                "type": "text",
                "id": "product_number_unlocker",
                "label": "Product number unlocker"
              },
              {
                "type": "text",
                "id": "pdp_hero_icon_title",
                "label": "Gallery icon title"
              },
              {
                "type": "text",
                "id": "pdp_hero_icon_title_top",
                "label": "Gallery Top title"
              },
              {
                "type": "text",
                "id": "top_note",
                "label": "Top Note",
                "default": "Free $9.95"
              },
              {
                "type": "product",
                "id": "gift_price_product",
                "label": "Gift Product"
              },
              {
                "type": "product",
                "id": "money_product",
                "label": "Money Goal Product"
              }
            ]
          }
    ],
    "presets": [
      {
        "name": "Gift Display Section",
        "category": "Theme Settings"
      }
    ]
  }
{% endschema %}